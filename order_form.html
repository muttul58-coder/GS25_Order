<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì£¼ë¬¸ì„œ - LG ìƒì‚°ê¸°ìˆ ì›ì </title>
    <style>
        /* ì „ì²´ ìš”ì†Œ ì´ˆê¸°í™” */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* ë³¸ë¬¸ ìŠ¤íƒ€ì¼ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ - ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            padding: 20px;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .header h1 {
            font-size: 32px;
            font-weight: 700;
            letter-spacing: 8px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        /* ìƒë‹¨ ì •ë³´ ì˜ì—­ - ë‹´ë‹¹ì ì •ë³´ì™€ ì£¼ë¬¸ ì¼ì‹œ */
        .top-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            padding: 15px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: none;
            border-radius: 10px;
            flex-wrap: wrap;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .shop-info {
            font-size: 15px;
            font-weight: 600;
            color: #495057;
        }

        .date-info {
            font-size: 15px;
            font-weight: 600;
            color: #495057;
        }

        /* ì£¼ë¬¸ì ì •ë³´ ì»¨í…Œì´ë„ˆ - ëª¨ë˜í•œ ë³´ë¼ìƒ‰ */
        .orderer-info-container {
            border: none;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            position: relative;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.15);
        }

        /* ì£¼ë¬¸ì ì •ë³´ ë°°ì§€ */
        .orderer-info-badge {
            position: absolute;
            top: -12px;
            left: 25px;
            background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%);
            color: white;
            padding: 8px 20px;
            font-weight: 600;
            border-radius: 20px;
            font-size: 16px;
            box-shadow: 0 4px 10px rgba(156, 39, 176, 0.3);
        }

        /* ì„¹ì…˜ í—¤ë” - ë³´ë‚´ëŠ” ë¶„/ë°›ëŠ” ë¶„ ì œëª© */
        .section-header {
            background: linear-gradient(135deg, #ff8a95 0%, #ffc3a0 100%);
            padding: 12px 15px;
            font-weight: 600;
            font-size: 16px;
            margin-top: 5px;
            border: none;
            border-radius: 8px;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        /* ì£¼ë¬¸ì ì •ë³´ ì„¹ì…˜ í—¤ë” - ë³´ë¼ìƒ‰ */
        .orderer-section-header {
            background-color: #ce93d8;
            padding: 10px;
            font-weight: bold;
            font-size: 18px;
            border: 2px solid #333;
            margin-bottom: 0;
        }

        /* í…Œì´ë¸” ê³µí†µ ìŠ¤íƒ€ì¼ */
        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-bottom: 5px;
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            border: 1px solid #dee2e6;
            padding: 10px 8px;
            text-align: center;
        }

        th {
            background: linear-gradient(135deg, #ffc3a0 0%, #ffafbd 100%);
            font-weight: 600;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            font-size: 14px;
        }

        /* ì£¼ë¬¸ì ì •ë³´ í…Œì´ë¸” í—¤ë” - ë³´ë¼ìƒ‰ */
        .orderer-info-container th {
            background: linear-gradient(135deg, #ba68c8 0%, #9c27b0 100%);
            color: white;
        }

        /* ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        input[type="text"],
        input[type="tel"],
        input[type="number"] {
            width: 100%;
            padding: 8px 10px;
            border: 1.5px solid #e0e0e0;
            border-radius: 6px;
            font-size: 13px;
            text-align: center;
            transition: all 0.3s ease;
            background-color: #fafafa;
        }

        /* ì£¼ì†Œ í•„ë“œëŠ” ì™¼ìª½ ì •ë ¬ */
        .address-field input {
            text-align: left;
        }

        /* ì…ë ¥ í•„ë“œ í¬ì»¤ìŠ¤ ì‹œ ê·¸ë¼ë°ì´ì…˜ í…Œë‘ë¦¬ */
        input[type="text"]:focus,
        input[type="tel"]:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            background-color: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* ì…ë ¥ ì˜¤ë¥˜ ì‹œ ë¹¨ê°„ìƒ‰ í…Œë‘ë¦¬ */
        input.error {
            border-color: #f44336;
            background-color: #ffebee;
            animation: shake 0.5s;
        }

        /* ì˜¤ë¥˜ í•„ë“œ í”ë“¤ë¦¼ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        /* placeholder ìŠ¤íƒ€ì¼ - ì…ë ¥ ì „ íšŒìƒ‰ìœ¼ë¡œ í‘œì‹œ */
        input::placeholder {
            color: #999;
            opacity: 1;
        }

        input::-webkit-input-placeholder {
            color: #999;
        }

        input::-moz-placeholder {
            color: #999;
            opacity: 1;
        }

        input:-ms-input-placeholder {
            color: #999;
        }

        /* ì…ë ¥ëœ ê°’ì€ ì§„í•œ ê²€ì •ìƒ‰ìœ¼ë¡œ í‘œì‹œ */
        input {
            color: #000;
        }

        /* ë‹¨ê°€ì™€ ê¸ˆì•¡ í•„ë“œë¥¼ ì˜¤ë¥¸ìª½ ì •ë ¬ */
        input.unit-price,
        input.total-price {
            text-align: right;
        }

        /* ë°›ëŠ” ë¶„ ì„¹ì…˜ ìŠ¤íƒ€ì¼ - íŒŒë€ìƒ‰ ë°°ê²½ */
        .receiver-section {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
        }

        .receiver-section th {
            background: linear-gradient(135deg, #64b5f6 0%, #42a5f5 100%);
            color: white;
        }

        /* ìƒí’ˆ ì •ë³´ ì„¹ì…˜ ìŠ¤íƒ€ì¼ - ë…¹ìƒ‰ ë°°ê²½ */
        .product-section {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
        }

        .product-section th {
            background: linear-gradient(135deg, #81c784 0%, #66bb6a 100%);
            color: white;
        }

        /* ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .button-container {
            text-align: center;
            margin-top: 30px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .submit-btn, .print-btn, .add-section-btn {
            padding: 14px 32px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .submit-btn {
            background: linear-gradient(135deg, #66bb6a 0%, #4caf50 100%);
            color: white;
        }

        .submit-btn:hover {
            background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(76, 175, 80, 0.4);
        }

        .print-btn {
            background: linear-gradient(135deg, #42a5f5 0%, #2196f3 100%);
            color: white;
        }

        .print-btn:hover {
            background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        .add-section-btn {
            background: linear-gradient(135deg, #ffa726 0%, #ff9800 100%);
            color: white;
        }

        .add-section-btn:hover {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(255, 152, 0, 0.4);
        }

        /* í–‰ ì¶”ê°€/ì‚­ì œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .add-btn, .remove-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.3s ease;
        }

        .add-btn {
            background: linear-gradient(135deg, #66bb6a 0%, #4caf50 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
        }

        .add-btn:hover {
            background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
        }

        .remove-btn {
            background: linear-gradient(135deg, #ef5350 0%, #f44336 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(244, 67, 54, 0.3);
        }

        .remove-btn:hover {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.4);
        }

        /* ì„¹ì…˜ êµ¬ë¶„ì„  */
        .order-section {
            border: none;
            padding: 25px;
            margin-bottom: 30px;
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            position: relative;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(255, 152, 0, 0.15);
        }

        /* ì„¹ì…˜ ë²ˆí˜¸ ë°°ì§€ */
        .section-number {
            position: absolute;
            top: -12px;
            left: 25px;
            background: linear-gradient(135deg, #ffa726 0%, #ff9800 100%);
            color: white;
            padding: 8px 20px;
            font-weight: 600;
            border-radius: 20px;
            font-size: 16px;
            box-shadow: 0 4px 10px rgba(255, 152, 0, 0.3);
        }

        /* ì„¹ì…˜ ì‚­ì œ ë²„íŠ¼ */
        .section-delete-btn {
            position: absolute;
            top: -12px;
            right: 25px;
            background: linear-gradient(135deg, #ef5350 0%, #f44336 100%);
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(244, 67, 54, 0.3);
        }

        .section-delete-btn:hover {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            transform: translateY(-1px);
            box-shadow: 0 6px 14px rgba(244, 67, 54, 0.4);
        }

        /* ì²´í¬ë°•ìŠ¤ ì…€ ìŠ¤íƒ€ì¼ */
        .checkbox-cell {
            width: 200px;
            vertical-align: middle;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            cursor: pointer;
            font-size: 13px;
        }

        .checkbox-label input[type="checkbox"] {
            width: auto;
            cursor: pointer;
        }

        /* ì´ ê¸ˆì•¡ í–‰ ìŠ¤íƒ€ì¼ */
        .total-row {
            font-weight: 600;
            background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
        }

        .total-row td {
            font-size: 15px;
            color: #333;
        }

        /* ì¸ì‡„ ì‹œ ìŠ¤íƒ€ì¼ */
        @media print {
            @page {
                size: A4 portrait;
                margin: 8mm 3mm;
            }

            * {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }

            body {
                background-color: white;
                background-image: none;
                padding: 0;
                margin: 0;
                font-size: 9pt;
                width: 210mm;
            }

            .container {
                box-shadow: none;
                max-width: 100%;
                width: 100%;
                padding: 0;
                margin: 0;
                border-radius: 0;
            }

            .no-print {
                display: none !important;
            }

            /* í—¤ë” í¬ê¸° ì¡°ì • */
            .header {
                padding: 6px;
                margin-bottom: 8px;
                border-radius: 0;
                background: #667eea !important;
            }

            .header h1 {
                font-size: 20px;
                letter-spacing: 4px;
            }

            /* ìƒë‹¨ ì •ë³´ í¬ê¸° ì¡°ì • */
            .top-info {
                padding: 4px 8px;
                margin-bottom: 8px;
                font-size: 8pt;
                border-radius: 0;
                background: #f8f9fa !important;
            }

            .shop-info, .date-info {
                font-size: 8pt;
            }

            /* ì£¼ë¬¸ì ì •ë³´ ì»¨í…Œì´ë„ˆ í¬ê¸° ì¡°ì • */
            .orderer-info-container {
                padding: 8px;
                margin-bottom: 8px;
                border-radius: 0;
                background: #f3e5f5 !important;
            }

            .orderer-info-badge {
                font-size: 10px;
                padding: 3px 8px;
                border-radius: 10px;
                background: #9C27B0 !important;
            }

            /* ì„¹ì…˜ í—¤ë” ê°„ê²© ì¡°ì • */
            .section-header {
                padding: 4px 8px;
                font-size: 10pt;
                margin-top: 3px;
                margin-bottom: 0;
                border-radius: 0;
            }

            /* í…Œì´ë¸” ê°„ê²© ë° ë ˆì´ì•„ì›ƒ ê³ ì • */
            table {
                margin-bottom: 3px;
                table-layout: fixed;
                width: 100%;
                border-radius: 0;
                border-spacing: 0;
                border-collapse: collapse;
            }

            /* ì¸ì‡„ ì‹œ ì„¹ì…˜ êµ¬ë¶„ì„  */
            .order-section {
                border: 2px solid #999;
                page-break-after: always;
                padding: 8px;
                margin-bottom: 0;
                border-radius: 0;
                background: #fff3e0 !important;
            }

            .section-number {
                font-size: 10px;
                padding: 3px 8px;
                border-radius: 10px;
                background: #ff9800 !important;
            }

            /* ì¸ì‡„ ì‹œ í…Œë‘ë¦¬ ë° íŒ¨ë”© ì¡°ì • */
            th, td {
                border: 1px solid #666;
                padding: 2px 2px;
                font-size: 7pt;
                word-wrap: break-word;
                overflow-wrap: break-word;
                line-height: 1.3;
            }

            th {
                font-size: 7pt;
            }

            /* ì»¬ëŸ¼ ë„ˆë¹„ ìµœì í™” - A4ì— ë§ì¶¤ (ë” ì‘ê²Œ) */
            th[style*="width: 80px"] { width: 40px !important; }
            th[style*="width: 120px"] { width: 60px !important; }
            th[style*="width: 100px"] { width: 50px !important; }
            th[style*="width: 200px"] { width: 100px !important; }
            th[style*="width: 150px"] { width: 85px !important; }

            /* ì¸ì‡„ ì‹œ ì…ë ¥ í•„ë“œ í…Œë‘ë¦¬ ì œê±° */
            input[type="text"],
            input[type="tel"],
            input[type="number"] {
                border: none;
                background: transparent;
                padding: 0;
                font-size: 7pt;
                width: 100%;
            }

            /* ì£¼ì†Œ í•„ë“œ í°íŠ¸ í¬ê¸° */
            .address-field input {
                font-size: 6.5pt;
                word-break: break-all;
                line-height: 1.2;
            }

            /* ì´ ê¸ˆì•¡ í–‰ */
            .total-row td {
                font-size: 8pt;
                font-weight: bold;
            }

            /* ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰ ë²„íŠ¼ ìˆ¨ê¹€ */
            .postal-search-btn {
                display: none;
            }

            /* ìš°í¸ë²ˆí˜¸ ë˜í¼ ì¡°ì • */
            .postal-input-wrapper {
                display: block;
            }

            /* ìƒí’ˆ ì •ë³´ í…Œì´ë¸” ìµœì í™” */
            .product-section th[style*="width: 50px"] { width: 20px !important; }
            .product-section th[style*="width: 120px"] { width: 60px !important; }
            .product-section th[style*="width: 200px"] { width: 100px !important; }
            .product-section th[style*="width: 80px"] { width: 35px !important; }
        }

        /* ìƒí’ˆ í–‰ ì•¡ì…˜ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ */
        .action-buttons {
            display: flex;
            gap: 5px;
            justify-content: center;
        }

        /* í–‰ ì¶”ê°€ ë²„íŠ¼ ì»¨í…Œì´ë„ˆ */
        .add-row-container {
            text-align: center;
            margin: 10px 0;
        }

        /* ë„ì›€ë§ í…ìŠ¤íŠ¸ */
        .help-text {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
            line-height: 1.6;
        }

        .help-text strong {
            color: #333;
        }

        /* ì•Œë¦¼ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            display: none;
            font-weight: bold;
            text-align: center;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert.success {
            background-color: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .alert.warning {
            background-color: #fff3cd;
            color: #856404;
            border: 2px solid #ffeaa7;
        }

        .alert.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        /* êµ¬ê¸€ ì„¤ë¬¸ì§€ ì„¤ì • íŒ¨ë„ ìŠ¤íƒ€ì¼ */
        .settings-panel {
            background-color: #e8f5e9;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .settings-panel h3 {
            color: #2e7d32;
            margin-bottom: 15px;
        }

        .settings-panel label {
            display: block;
            font-weight: bold;
            margin-top: 15px;
            margin-bottom: 5px;
            color: #333;
        }

        .settings-panel input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 2px solid #4CAF50;
            border-radius: 5px;
            font-size: 14px;
        }

        .entry-id-config {
            margin-top: 20px;
            padding: 15px;
            background-color: #f1f8e9;
            border-radius: 5px;
        }

        .entry-id-config h4 {
            color: #33691e;
            margin-bottom: 10px;
        }

        .entry-grid {
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 10px;
            align-items: center;
            margin-top: 15px;
        }

        .entry-grid label {
            font-weight: bold;
            color: #33691e;
        }

        .entry-grid input {
            padding: 8px;
            border: 1px solid #9ccc65;
            border-radius: 4px;
        }

        .save-settings-btn {
            margin-top: 15px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .save-settings-btn:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }

        /* ìƒí’ˆì´ë¦„ í•„ë“œ ìŠ¤íƒ€ì¼ - ì½ê¸° ì „ìš© ê°•ì¡° */
        .product-name {
            background-color: #f0f0f0;
            font-weight: bold;
            color: #333;
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 24px;
                letter-spacing: 5px;
            }

            .top-info {
                flex-direction: column;
                gap: 10px;
            }

            .shop-info, .date-info {
                font-size: 14px;
            }

            /* í…Œì´ë¸”ì„ ê°€ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ê²Œ */
            .table-responsive {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            table {
                min-width: 800px;
            }

            th, td {
                padding: 8px;
                font-size: 13px;
            }

            input[type="text"],
            input[type="tel"],
            input[type="number"] {
                padding: 6px;
                font-size: 13px;
            }

            .button-container {
                flex-direction: column;
            }

            .submit-btn, .print-btn, .add-section-btn {
                width: 100%;
                padding: 12px;
                font-size: 16px;
            }

            .entry-grid {
                grid-template-columns: 1fr;
                gap: 5px;
            }

            .entry-grid label {
                margin-top: 10px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 20px;
                letter-spacing: 3px;
            }

            .section-number {
                font-size: 14px;
                padding: 3px 10px;
            }

            .orderer-info-badge {
                font-size: 14px;
                padding: 3px 10px;
            }
        }

        /* ê²€ì¦ ì˜¤ë¥˜ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ */
        .validation-error-list {
            background-color: #ffebee;
            border: 2px solid #f44336;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }

        .validation-error-list h4 {
            color: #c62828;
            margin-bottom: 10px;
        }

        .validation-error-list ul {
            margin-left: 20px;
            color: #d32f2f;
        }

        .validation-error-list li {
            margin: 5px 0;
        }
        /* ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .postal-search-btn {
            padding: 7px 14px;
            background: linear-gradient(135deg, #ffa726 0%, #ff9800 100%);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            transition: all 0.3s ease;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(255, 152, 0, 0.3);
        }

        .postal-search-btn:hover {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.4);
        }

        /* ìš°í¸ë²ˆí˜¸ í•„ë“œì™€ ë²„íŠ¼ì„ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ */
        .postal-input-wrapper {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        .postal-input-wrapper input {
            flex: 1;
        }
    </style>
    <!-- ì¹´ì¹´ì˜¤ ìš°í¸ë²ˆí˜¸ ì„œë¹„ìŠ¤ -->
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <!-- ìƒí’ˆ ë°ì´í„° ìë™ ë¡œë“œ - products.js íŒŒì¼ì´ ê°™ì€ í´ë”ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤ -->
    <script src="products.js"></script>
    <!-- êµ¬ê¸€ í¼ ì„¤ì • íŒŒì¼ - config.js íŒŒì¼ì´ ê°™ì€ í´ë”ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤ -->
    <script src="config.js"></script>
</head>
<body>
    <div class="container">
        <!-- êµ¬ê¸€ ì„¤ë¬¸ì§€ ì„¤ì • íŒ¨ë„ (ì¸ì‡„ ì‹œ ìˆ¨ê¹€) -->
        <div class="settings-panel no-print">
            <h3>âš™ï¸ ì„¤ì •</h3>
            
            <!-- ìƒí’ˆ ë°ì´í„° ë¡œë“œ ìƒíƒœ í‘œì‹œ -->
            <div id="productDataStatus" style="padding: 10px; border-radius: 5px; margin-bottom: 15px;">
                <strong>ğŸ“¦ ìƒí’ˆ ë°ì´í„°:</strong> <span id="productDataStatusText">ë¡œë”© ì¤‘...</span>
            </div>
            
            <!-- êµ¬ê¸€ í¼ ì„¤ì • ì•ˆë‚´ -->
            <div style="padding: 15px; background-color: #fff3cd; border: 2px solid #ffc107; border-radius: 5px;">
                <h4 style="color: #856404; margin-bottom: 10px;">ğŸ“‹ êµ¬ê¸€ í¼ ì„¤ì •</h4>
                <p class="help-text" style="color: #856404; margin-bottom: 10px;">
                    <strong>êµ¬ê¸€ í¼ URLê³¼ Entry IDëŠ” config.js íŒŒì¼ì—ì„œ ì„¤ì •ë©ë‹ˆë‹¤.</strong>
                </p>
                <p class="help-text" style="color: #856404;">
                    ğŸ’¡ <strong>ì„¤ì • ë°©ë²•:</strong><br>
                    1. <strong>config.js</strong> íŒŒì¼ì„ ë©”ëª¨ì¥ì´ë‚˜ í¸ì§‘ê¸°ë¡œ ì—½ë‹ˆë‹¤<br>
                    2. <strong>formUrl</strong>ì— êµ¬ê¸€ í¼ì˜ formResponse URLì„ ì…ë ¥í•©ë‹ˆë‹¤<br>
                    3. <strong>entries</strong>ì— ê° í•„ë“œì˜ Entry IDë¥¼ ì…ë ¥í•©ë‹ˆë‹¤<br>
                    4. íŒŒì¼ì„ ì €ì¥í•˜ê³  í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤
                </p>
                <div id="configStatus" style="margin-top: 15px; padding: 10px; border-radius: 5px;">
                    <strong>í˜„ì¬ ì„¤ì • ìƒíƒœ:</strong> <span id="configStatusText">í™•ì¸ ì¤‘...</span>
                </div>
            </div>
        </div>

        <!-- ì•Œë¦¼ ë©”ì‹œì§€ ì˜ì—­ (ì¸ì‡„ ì‹œ ìˆ¨ê¹€) -->
        <div id="alertBox" class="alert"></div>

        <!-- í—¤ë” - ì£¼ë¬¸ì„œ ì œëª© -->
        <div class="header">
            <h1>ì£¼ ë¬¸ ì„œ</h1>
        </div>

        <!-- ìƒë‹¨ ì •ë³´ - ë‹´ë‹¹ì ë° ì£¼ë¬¸ ì¼ì‹œ -->
        <div class="top-info">
            <div class="shop-info">
                LG ìƒì‚°ê¸°ìˆ ì›ì &nbsp;&nbsp;&nbsp;ë‹´ë‹¹ : ì–‘ì°½í˜¸&nbsp;&nbsp;&nbsp;íœ´ëŒ€ì „í™” : 010-7568-3522
            </div>
            <div class="date-info">
                ì£¼ë¬¸ ì¼ì‹œ : <span id="currentDateTime"></span>
            </div>
        </div>

        <!-- ì£¼ë¬¸ì ì •ë³´ ì»¨í…Œì´ë„ˆ -->
        <div class="orderer-info-container">
            <div class="orderer-info-badge">ì£¼ë¬¸ì ì •ë³´</div>
            <div class="table-responsive">
                <table>
                    <tr>
                        <th style="width: 80px;">ì„±ëª…</th>
                        <th style="width: 120px;">ì „í™”ë²ˆí˜¸</th>
                        <th style="width: 100px;">ìš°í¸ë²ˆí˜¸</th>
                        <th style="width: 200px;">ê¸°ë³¸ì£¼ì†Œ</th>
                        <th>ìƒì„¸ì£¼ì†Œ</th>
                    </tr>
                    <tr>
                        <td><input type="text" id="ordererName" placeholder="______" required></td>
                        <td><input type="tel" id="ordererPhone" placeholder="010-0000-0000" required></td>
                        <td>
                            <div class="postal-input-wrapper">
                                <input type="text" id="ordererPostal" placeholder="00000" maxlength="5" required readonly>
                                <button type="button" class="postal-search-btn no-print" onclick="searchOrdererAddress()">ê²€ìƒ‰</button>
                            </div>
                        </td>
                        <td class="address-field"><input type="text" id="ordererAddress" placeholder="ê¸°ë³¸ì£¼ì†Œ" required readonly></td>
                        <td class="address-field"><input type="text" id="ordererAddressDetail" placeholder="ìƒì„¸ì£¼ì†Œ ì…ë ¥"></td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- ì£¼ë¬¸ ì„¹ì…˜ë“¤ì„ ë‹´ëŠ” ì»¨í…Œì´ë„ˆ -->
        <div id="orderSectionsContainer">
            <!-- ì²« ë²ˆì§¸ ì„¹ì…˜ (ê¸°ë³¸) -->
            <div class="order-section" data-section="1">
                <div class="section-number">ì£¼ë¬¸ #1</div>
                
                <!-- ë³´ë‚´ëŠ” ë¶„ ì •ë³´ í…Œì´ë¸” (ë³„ë„ ë¶„ë¦¬) -->
                <div class="section-header">ë³´ë‚´ëŠ” ë¶„</div>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th style="width: 80px;">ì„±ëª…</th>
                            <th style="width: 120px;">ì „í™”ë²ˆí˜¸</th>
                            <th style="width: 100px;">ìš°í¸ë²ˆí˜¸</th>
                            <th style="width: 200px;">ê¸°ë³¸ì£¼ì†Œ</th>
                            <th style="width: 150px;">ìƒì„¸ì£¼ì†Œ</th>
                            <th class="checkbox-cell no-print">ìë™ ì…ë ¥</th>
                        </tr>
                        <tr>
                            <td><input type="text" class="sender-name" placeholder="______" required></td>
                            <td><input type="tel" class="sender-phone" placeholder="010-0000-0000" required></td>
                            <td>
                                <div class="postal-input-wrapper">
                                    <input type="text" class="sender-postal" placeholder="00000" maxlength="5" required readonly>
                                    <button type="button" class="postal-search-btn no-print" onclick="searchSenderAddress(this)">ê²€ìƒ‰</button>
                                </div>
                            </td>
                            <td class="address-field"><input type="text" class="sender-address" placeholder="ê¸°ë³¸ì£¼ì†Œ" required readonly></td>
                            <td class="address-field"><input type="text" class="sender-address-detail" placeholder="ìƒì„¸ì£¼ì†Œ ì…ë ¥"></td>
                            <td class="checkbox-cell no-print">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="copy-orderer-info" onchange="toggleOrdererInfoCopy(this)">
                                    <span>ì£¼ë¬¸ì ì •ë³´ì™€ ë™ì¼</span>
                                </label>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- ë°›ëŠ” ë¶„ ì •ë³´ í…Œì´ë¸” (ë¶„ë¦¬ë¨) -->
                <div class="section-header receiver-section">ë°›ëŠ” ë¶„</div>
                <div class="table-responsive">
                    <table class="receiver-section">
                        <tr>
                            <th style="width: 80px;">ì„±ëª…</th>
                            <th style="width: 120px;">ì „í™”ë²ˆí˜¸</th>
                            <th style="width: 100px;">ìš°í¸ë²ˆí˜¸</th>
                            <th style="width: 200px;">ê¸°ë³¸ì£¼ì†Œ</th>
                            <th style="width: 150px;">ìƒì„¸ì£¼ì†Œ</th>
                            <th class="checkbox-cell no-print">ìë™ ì…ë ¥</th>
                        </tr>
                        <tr>
                            <td><input type="text" class="receiver-name" placeholder="______" required></td>
                            <td><input type="tel" class="receiver-phone" placeholder="010-0000-0000" required></td>
                            <td>
                                <div class="postal-input-wrapper">
                                    <input type="text" class="receiver-postal" placeholder="00000" maxlength="5" required readonly>
                                    <button type="button" class="postal-search-btn no-print" onclick="searchReceiverAddress(this)">ê²€ìƒ‰</button>
                                </div>
                            </td>
                            <td class="address-field"><input type="text" class="receiver-address" placeholder="ê¸°ë³¸ì£¼ì†Œ" required readonly></td>
                            <td class="address-field"><input type="text" class="receiver-address-detail" placeholder="ìƒì„¸ì£¼ì†Œ ì…ë ¥"></td>
                            <td class="checkbox-cell no-print">
                                <div style="display: flex; flex-direction: column; gap: 5px;">
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="copy-orderer-to-receiver" onchange="toggleReceiverInfoCopy(this, 'orderer')">
                                        <span>ì£¼ë¬¸ì ì •ë³´ì™€ ë™ì¼</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="copy-sender-to-receiver" onchange="toggleReceiverInfoCopy(this, 'sender')">
                                        <span>ë³´ë‚´ëŠ” ë¶„ ì •ë³´ì™€ ë™ì¼</span>
                                    </label>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- ìƒí’ˆ ì •ë³´ í…Œì´ë¸” (ë³„ë„ ë¶„ë¦¬) -->
                <div class="section-header product-section">ìƒí’ˆ ì •ë³´</div>
                <div class="table-responsive">
                    <table class="product-section">
                        <thead>
                            <tr>
                                <th style="width: 50px;" class="no-print">No.</th>
                                <th style="width: 120px;">ìƒí’ˆ ì½”ë“œ</th>
                                <th style="width: 200px;">ìƒí’ˆì´ë¦„</th>
                                <th style="width: 80px;">ìˆ˜ëŸ‰</th>
                                <th style="width: 120px;">ë‹¨ê°€</th>
                                <th style="width: 120px;">ê¸ˆì•¡</th>
                                <th style="width: 100px;" class="no-print">ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody class="product-table-body">
                            <!-- ì²« ë²ˆì§¸ ìƒí’ˆ í–‰ -->
                            <tr class="product-row" data-row="1">
                                <td class="row-number no-print">1</td>
                                <td><input type="text" class="product-code" placeholder="00-00" required></td>
                                <td><input type="text" class="product-name" placeholder="ìƒí’ˆì´ë¦„" readonly></td>
                                <td><input type="number" class="quantity" value="1" min="1" required></td>
                                <td><input type="text" class="unit-price" placeholder="______" required></td>
                                <td><input type="text" class="total-price" readonly></td>
                                <td class="no-print">
                                    <div class="action-buttons">
                                        <button type="button" class="remove-btn" onclick="removeProductRow(this)">ì‚­ì œ</button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <!-- í–‰ ì¶”ê°€ ë²„íŠ¼ -->
                            <tr class="no-print">
                                <td colspan="7" class="add-row-container">
                                    <button type="button" class="add-btn" onclick="addProductRowInSection(this)">+ ìƒí’ˆ ì¶”ê°€</button>
                                </td>
                            </tr>
                            <!-- í•©ê³„ í–‰ -->
                            <tr class="total-row">
                                <td colspan="3">ì´ ìˆ˜ëŸ‰</td>
                                <td class="section-total-quantity">0</td>
                                <td>ì´ ê¸ˆì•¡</td>
                                <td colspan="2" class="section-grand-total">0ì›</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <!-- ì²« ë²ˆì§¸ ì„¹ì…˜ ë -->
        </div>
        <!-- orderSectionsContainer ë -->

        <!-- í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ (ì¸ì‡„ ì‹œ ìˆ¨ê¹€) -->
        <div class="button-container no-print">
            <button type="button" class="add-section-btn" onclick="addSection()">â• ì£¼ë¬¸ ì„¹ì…˜ ì¶”ê°€</button>
            <button type="button" class="print-btn" onclick="printOrder()">ğŸ–¨ï¸ ì¸ì‡„ ë° ì£¼ë¬¸ ì „ì†¡</button>
        </div>
    </div>
    <!-- container ë -->

    <script>
        // ========================================
        // ì „ì—­ ë³€ìˆ˜ ì„ ì–¸
        // ========================================
        let sectionCounter = 1; // ì„¹ì…˜ ë²ˆí˜¸ë¥¼ ì¶”ì í•˜ëŠ” ì¹´ìš´í„°
        
        // PRODUCTS_DATAëŠ” products.js íŒŒì¼ì—ì„œ ìë™ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤.
        // íŒŒì¼ì´ ì œëŒ€ë¡œ ë¡œë“œë˜ì§€ ì•Šìœ¼ë©´ undefinedê°€ ë©ë‹ˆë‹¤.

        /**
         * ìƒí’ˆ ë°ì´í„° ë¡œë“œ ìƒíƒœ í™•ì¸ ë° í‘œì‹œ
         */
        function checkProductsDataLoaded() {
            const statusDiv = document.getElementById('productDataStatus');
            const statusText = document.getElementById('productDataStatusText');
            
            if (typeof PRODUCTS_DATA !== 'undefined' && PRODUCTS_DATA) {
                const productCount = Object.keys(PRODUCTS_DATA).length;
                statusDiv.style.backgroundColor = '#d4edda';
                statusDiv.style.border = '2px solid #c3e6cb';
                statusText.innerHTML = `âœ… <strong>products.js</strong> ë¡œë“œ ì™„ë£Œ (ìƒí’ˆ <strong>${productCount}</strong>ê°œ)`;
                console.log('ìƒí’ˆ ë°ì´í„° ë¡œë“œ ì™„ë£Œ:', PRODUCTS_DATA);
                showAlert(`âœ… ìƒí’ˆ ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤! (ìƒí’ˆ ${productCount}ê°œ)`, 'success');
                return true;
            } else {
                statusDiv.style.backgroundColor = '#ffebee';
                statusDiv.style.border = '2px solid #f44336';
                statusText.innerHTML = 'âŒ <strong>products.js</strong> íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. HTML íŒŒì¼ê³¼ ê°™ì€ í´ë”ì— ìˆëŠ”ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.';
                console.error('products.js íŒŒì¼ì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                showAlert('âš ï¸ products.js íŒŒì¼ì„ HTML íŒŒì¼ê³¼ ê°™ì€ í´ë”ì— ìœ„ì¹˜ì‹œì¼œì£¼ì„¸ìš”.', 'error');
                return false;
            }
        }

        /**
         * ìƒí’ˆ ì½”ë“œë¡œ ìƒí’ˆ ì •ë³´ ê²€ìƒ‰
         * @param {string} code - ìƒí’ˆ ì½”ë“œ (ì˜ˆ: "08-01")
         * @returns {Object|null} - ìƒí’ˆ ì •ë³´ ë˜ëŠ” null
         */
        function getProductInfo(code) {
            if (typeof PRODUCTS_DATA === 'undefined' || !PRODUCTS_DATA) {
                return null;
            }
            return PRODUCTS_DATA[code] || null;
        }

        // ========================================
        // ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰ í•¨ìˆ˜
        // ========================================

        /**
         * ì£¼ë¬¸ì ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰
         */
        function searchOrdererAddress() {
            // ì¹´ì¹´ì˜¤ Postcode API ë¡œë“œ í™•ì¸
            if (typeof daum === 'undefined' || typeof daum.Postcode === 'undefined') {
                alert('ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰ ì„œë¹„ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.\nì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\n\nì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
                console.error('Daum Postcode APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                return;
            }

            new daum.Postcode({
                oncomplete: function(data) {
                    // ìš°í¸ë²ˆí˜¸ì™€ ì£¼ì†Œ ì •ë³´ë¥¼ í•´ë‹¹ í•„ë“œì— ë„£ê¸°
                    document.getElementById('ordererPostal').value = data.zonecode;
                    document.getElementById('ordererAddress').value = data.roadAddress || data.jibunAddress;
                    // ìƒì„¸ì£¼ì†Œ í•„ë“œë¡œ í¬ì»¤ìŠ¤ ì´ë™
                    document.getElementById('ordererAddressDetail').focus();
                }
            }).open();
        }

        /**
         * ë³´ë‚´ëŠ” ë¶„ ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰
         * @param {HTMLElement} button - ê²€ìƒ‰ ë²„íŠ¼ ìš”ì†Œ
         */
        function searchSenderAddress(button) {
            // ì¹´ì¹´ì˜¤ Postcode API ë¡œë“œ í™•ì¸
            if (typeof daum === 'undefined' || typeof daum.Postcode === 'undefined') {
                alert('ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰ ì„œë¹„ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.\nì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\n\nì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
                console.error('Daum Postcode APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                return;
            }

            const section = button.closest('.order-section');
            const postalInput = section.querySelector('.sender-postal');
            const addressInput = section.querySelector('.sender-address');
            const addressDetailInput = section.querySelector('.sender-address-detail');

            new daum.Postcode({
                oncomplete: function(data) {
                    postalInput.value = data.zonecode;
                    addressInput.value = data.roadAddress || data.jibunAddress;
                    addressDetailInput.focus();
                }
            }).open();
        }

        /**
         * ë°›ëŠ” ë¶„ ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰
         * @param {HTMLElement} button - ê²€ìƒ‰ ë²„íŠ¼ ìš”ì†Œ
         */
        function searchReceiverAddress(button) {
            // ì¹´ì¹´ì˜¤ Postcode API ë¡œë“œ í™•ì¸
            if (typeof daum === 'undefined' || typeof daum.Postcode === 'undefined') {
                alert('ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰ ì„œë¹„ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.\nì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.\n\nì¸í„°ë„· ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
                console.error('Daum Postcode APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                return;
            }

            const section = button.closest('.order-section');
            const postalInput = section.querySelector('.receiver-postal');
            const addressInput = section.querySelector('.receiver-address');
            const addressDetailInput = section.querySelector('.receiver-address-detail');

            new daum.Postcode({
                oncomplete: function(data) {
                    postalInput.value = data.zonecode;
                    addressInput.value = data.roadAddress || data.jibunAddress;
                    addressDetailInput.focus();
                }
            }).open();
        }

        // ========================================
        // ë‚ ì§œ/ì‹œê°„ ê´€ë ¨ í•¨ìˆ˜
        // ========================================
        
        /**
         * í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ í‘œì‹œ
         * í˜•ì‹: YYYY-MM-DD HH:MM
         */
        function updateDateTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            
            document.getElementById('currentDateTime').textContent = 
                `${year}-${month}-${day} ${hours}:${minutes}`;
        }

        // ========================================
        // ì£¼ë¬¸ì ì •ë³´ ë³µì‚¬ í•¨ìˆ˜
        // ========================================
        
        /**
         * ì£¼ë¬¸ì ì •ë³´ë¥¼ ë³´ë‚´ëŠ” ë¶„ í•„ë“œë¡œ ë³µì‚¬í•˜ê±°ë‚˜ ì´ˆê¸°í™”
         * @param {HTMLInputElement} checkbox - ì²´í¬ë°•ìŠ¤ ìš”ì†Œ
         */
        function toggleOrdererInfoCopy(checkbox) {
            const section = checkbox.closest('.order-section');
            const senderName = section.querySelector('.sender-name');
            const senderPhone = section.querySelector('.sender-phone');
            const senderPostal = section.querySelector('.sender-postal');
            const senderAddress = section.querySelector('.sender-address');
            const senderAddressDetail = section.querySelector('.sender-address-detail');

            if (checkbox.checked) {
                // ì£¼ë¬¸ì ì •ë³´ë¥¼ ë³´ë‚´ëŠ” ë¶„ í•„ë“œë¡œ ë³µì‚¬
                senderName.value = document.getElementById('ordererName').value;
                senderPhone.value = document.getElementById('ordererPhone').value;
                senderPostal.value = document.getElementById('ordererPostal').value;
                senderAddress.value = document.getElementById('ordererAddress').value;
                senderAddressDetail.value = document.getElementById('ordererAddressDetail').value;

                // í•„ë“œë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì„¤ì •
                senderName.readOnly = true;
                senderPhone.readOnly = true;
                senderPostal.readOnly = true;
                senderAddress.readOnly = true;
                senderAddressDetail.readOnly = true;

                // ì‹œê°ì  í”¼ë“œë°± (ë°°ê²½ìƒ‰ ë³€ê²½)
                senderName.style.backgroundColor = '#f0f0f0';
                senderPhone.style.backgroundColor = '#f0f0f0';
                senderPostal.style.backgroundColor = '#f0f0f0';
                senderAddress.style.backgroundColor = '#f0f0f0';
                senderAddressDetail.style.backgroundColor = '#f0f0f0';

                showAlert('âœ… ì£¼ë¬¸ì ì •ë³´ê°€ ë³´ë‚´ëŠ” ë¶„ í•„ë“œë¡œ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            } else {
                // í•„ë“œ ì´ˆê¸°í™” ë° í¸ì§‘ ê°€ëŠ¥í•˜ê²Œ ì„¤ì •
                senderName.value = '';
                senderPhone.value = '';
                senderPostal.value = '';
                senderAddress.value = '';
                senderAddressDetail.value = '';

                senderName.readOnly = false;
                senderPhone.readOnly = false;
                senderPostal.readOnly = false;
                senderAddress.readOnly = false;
                senderAddressDetail.readOnly = false;

                // ë°°ê²½ìƒ‰ ì›ë˜ëŒ€ë¡œ
                senderName.style.backgroundColor = '';
                senderPhone.style.backgroundColor = '';
                senderPostal.style.backgroundColor = '';
                senderAddress.style.backgroundColor = '';
                senderAddressDetail.style.backgroundColor = '';
            }
        }

        /**
         * ë°›ëŠ” ë¶„ í•„ë“œì— ì£¼ë¬¸ì ë˜ëŠ” ë³´ë‚´ëŠ” ë¶„ ì •ë³´ ë³µì‚¬
         * @param {HTMLInputElement} checkbox - ì²´í¬ë°•ìŠ¤ ìš”ì†Œ
         * @param {string} sourceType - 'orderer' ë˜ëŠ” 'sender'
         */
        function toggleReceiverInfoCopy(checkbox, sourceType) {
            const section = checkbox.closest('.order-section');
            const receiverName = section.querySelector('.receiver-name');
            const receiverPhone = section.querySelector('.receiver-phone');
            const receiverPostal = section.querySelector('.receiver-postal');
            const receiverAddress = section.querySelector('.receiver-address');
            const receiverAddressDetail = section.querySelector('.receiver-address-detail');

            if (checkbox.checked) {
                // ë‹¤ë¥¸ ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ë˜ì–´ ìˆìœ¼ë©´ í•´ì œ
                const otherCheckbox = sourceType === 'orderer'
                    ? section.querySelector('.copy-sender-to-receiver')
                    : section.querySelector('.copy-orderer-to-receiver');

                if (otherCheckbox && otherCheckbox.checked) {
                    otherCheckbox.checked = false;
                }

                // ì†ŒìŠ¤ì— ë”°ë¼ ì •ë³´ ë³µì‚¬
                if (sourceType === 'orderer') {
                    // ì£¼ë¬¸ì ì •ë³´ ë³µì‚¬
                    receiverName.value = document.getElementById('ordererName').value;
                    receiverPhone.value = document.getElementById('ordererPhone').value;
                    receiverPostal.value = document.getElementById('ordererPostal').value;
                    receiverAddress.value = document.getElementById('ordererAddress').value;
                    receiverAddressDetail.value = document.getElementById('ordererAddressDetail').value;
                    showAlert('âœ… ì£¼ë¬¸ì ì •ë³´ê°€ ë°›ëŠ” ë¶„ í•„ë“œë¡œ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                } else if (sourceType === 'sender') {
                    // ë³´ë‚´ëŠ” ë¶„ ì •ë³´ ë³µì‚¬
                    const senderName = section.querySelector('.sender-name');
                    const senderPhone = section.querySelector('.sender-phone');
                    const senderPostal = section.querySelector('.sender-postal');
                    const senderAddress = section.querySelector('.sender-address');
                    const senderAddressDetail = section.querySelector('.sender-address-detail');

                    receiverName.value = senderName.value;
                    receiverPhone.value = senderPhone.value;
                    receiverPostal.value = senderPostal.value;
                    receiverAddress.value = senderAddress.value;
                    receiverAddressDetail.value = senderAddressDetail.value;
                    showAlert('âœ… ë³´ë‚´ëŠ” ë¶„ ì •ë³´ê°€ ë°›ëŠ” ë¶„ í•„ë“œë¡œ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
                }

                // í•„ë“œë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì„¤ì •
                receiverName.readOnly = true;
                receiverPhone.readOnly = true;
                receiverPostal.readOnly = true;
                receiverAddress.readOnly = true;
                receiverAddressDetail.readOnly = true;

                // ì‹œê°ì  í”¼ë“œë°± (ë°°ê²½ìƒ‰ ë³€ê²½)
                receiverName.style.backgroundColor = '#f0f0f0';
                receiverPhone.style.backgroundColor = '#f0f0f0';
                receiverPostal.style.backgroundColor = '#f0f0f0';
                receiverAddress.style.backgroundColor = '#f0f0f0';
                receiverAddressDetail.style.backgroundColor = '#f0f0f0';

            } else {
                // í•„ë“œ ì´ˆê¸°í™” ë° í¸ì§‘ ê°€ëŠ¥í•˜ê²Œ ì„¤ì •
                receiverName.value = '';
                receiverPhone.value = '';
                receiverPostal.value = '';
                receiverAddress.value = '';
                receiverAddressDetail.value = '';

                receiverName.readOnly = false;
                receiverPhone.readOnly = false;
                receiverPostal.readOnly = false;
                receiverAddress.readOnly = false;
                receiverAddressDetail.readOnly = false;

                // ë°°ê²½ìƒ‰ ì›ë˜ëŒ€ë¡œ
                receiverName.style.backgroundColor = '';
                receiverPhone.style.backgroundColor = '';
                receiverPostal.style.backgroundColor = '';
                receiverAddress.style.backgroundColor = '';
                receiverAddressDetail.style.backgroundColor = '';
            }
        }

        // ========================================
        // ì„¹ì…˜ ê´€ë¦¬ í•¨ìˆ˜
        // ========================================
        
        /**
         * ìƒˆë¡œìš´ ì£¼ë¬¸ ì„¹ì…˜(ë³´ë‚´ëŠ” ë¶„ + ë°›ëŠ” ë¶„ + ìƒí’ˆ ì •ë³´) ì¶”ê°€
         */
        function addSection() {
            // ìˆœì°¨ì  ì…ë ¥ ê²€ì¦ - ì£¼ë¬¸ #1ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì„¹ì…˜ ì¶”ê°€ ë¶ˆê°€
            if (!checkSequentialInput()) {
                return;
            }
            
            sectionCounter++;
            const container = document.getElementById('orderSectionsContainer');
            
            // ìƒˆ ì„¹ì…˜ div ìƒì„±
            const newSection = document.createElement('div');
            newSection.className = 'order-section';
            newSection.setAttribute('data-section', sectionCounter);
            
            // ì„¹ì…˜ HTML êµ¬ì¡° ìƒì„±
            newSection.innerHTML = `
                <div class="section-number">ì£¼ë¬¸ #${sectionCounter}</div>
                <button type="button" class="section-delete-btn no-print" onclick="removeSection(this)">ğŸ—‘ï¸ ì„¹ì…˜ ì‚­ì œ</button>

                <!-- ë³´ë‚´ëŠ” ë¶„ ì •ë³´ -->
                <div class="section-header">ë³´ë‚´ëŠ” ë¶„</div>
                <div class="table-responsive">
                    <table>
                        <tr>
                            <th style="width: 80px;">ì„±ëª…</th>
                            <th style="width: 120px;">ì „í™”ë²ˆí˜¸</th>
                            <th style="width: 100px;">ìš°í¸ë²ˆí˜¸</th>
                            <th style="width: 200px;">ê¸°ë³¸ì£¼ì†Œ</th>
                            <th style="width: 150px;">ìƒì„¸ì£¼ì†Œ</th>
                            <th class="checkbox-cell no-print">ìë™ ì…ë ¥</th>
                        </tr>
                        <tr>
                            <td><input type="text" class="sender-name" placeholder="______" required></td>
                            <td><input type="tel" class="sender-phone" placeholder="010-0000-0000" required></td>
                            <td>
                                <div class="postal-input-wrapper">
                                    <input type="text" class="sender-postal" placeholder="00000" maxlength="5" required readonly>
                                    <button type="button" class="postal-search-btn no-print" onclick="searchSenderAddress(this)">ê²€ìƒ‰</button>
                                </div>
                            </td>
                            <td class="address-field"><input type="text" class="sender-address" placeholder="ê¸°ë³¸ì£¼ì†Œ" required readonly></td>
                            <td class="address-field"><input type="text" class="sender-address-detail" placeholder="ìƒì„¸ì£¼ì†Œ ì…ë ¥"></td>
                            <td class="checkbox-cell no-print">
                                <label class="checkbox-label">
                                    <input type="checkbox" class="copy-orderer-info" onchange="toggleOrdererInfoCopy(this)">
                                    <span>ì£¼ë¬¸ì ì •ë³´ì™€ ë™ì¼</span>
                                </label>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- ë°›ëŠ” ë¶„ ì •ë³´ -->
                <div class="section-header receiver-section">ë°›ëŠ” ë¶„</div>
                <div class="table-responsive">
                    <table class="receiver-section">
                        <tr>
                            <th style="width: 80px;">ì„±ëª…</th>
                            <th style="width: 120px;">ì „í™”ë²ˆí˜¸</th>
                            <th style="width: 100px;">ìš°í¸ë²ˆí˜¸</th>
                            <th style="width: 200px;">ê¸°ë³¸ì£¼ì†Œ</th>
                            <th style="width: 150px;">ìƒì„¸ì£¼ì†Œ</th>
                            <th class="checkbox-cell no-print">ìë™ ì…ë ¥</th>
                        </tr>
                        <tr>
                            <td><input type="text" class="receiver-name" placeholder="______" required></td>
                            <td><input type="tel" class="receiver-phone" placeholder="010-0000-0000" required></td>
                            <td>
                                <div class="postal-input-wrapper">
                                    <input type="text" class="receiver-postal" placeholder="00000" maxlength="5" required readonly>
                                    <button type="button" class="postal-search-btn no-print" onclick="searchReceiverAddress(this)">ê²€ìƒ‰</button>
                                </div>
                            </td>
                            <td class="address-field"><input type="text" class="receiver-address" placeholder="ê¸°ë³¸ì£¼ì†Œ" required readonly></td>
                            <td class="address-field"><input type="text" class="receiver-address-detail" placeholder="ìƒì„¸ì£¼ì†Œ ì…ë ¥"></td>
                            <td class="checkbox-cell no-print">
                                <div style="display: flex; flex-direction: column; gap: 5px;">
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="copy-orderer-to-receiver" onchange="toggleReceiverInfoCopy(this, 'orderer')">
                                        <span>ì£¼ë¬¸ì ì •ë³´ì™€ ë™ì¼</span>
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" class="copy-sender-to-receiver" onchange="toggleReceiverInfoCopy(this, 'sender')">
                                        <span>ë³´ë‚´ëŠ” ë¶„ ì •ë³´ì™€ ë™ì¼</span>
                                    </label>
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- ìƒí’ˆ ì •ë³´ -->
                <div class="section-header product-section">ìƒí’ˆ ì •ë³´</div>
                <div class="table-responsive">
                    <table class="product-section">
                        <thead>
                            <tr>
                                <th style="width: 50px;" class="no-print">No.</th>
                                <th style="width: 120px;">ìƒí’ˆ ì½”ë“œ</th>
                                <th style="width: 200px;">ìƒí’ˆì´ë¦„</th>
                                <th style="width: 80px;">ìˆ˜ëŸ‰</th>
                                <th style="width: 120px;">ë‹¨ê°€</th>
                                <th style="width: 120px;">ê¸ˆì•¡</th>
                                <th style="width: 100px;" class="no-print">ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody class="product-table-body">
                            <tr class="product-row" data-row="1">
                                <td class="row-number no-print">1</td>
                                <td><input type="text" class="product-code" placeholder="00-00" required></td>
                                <td><input type="text" class="product-name" placeholder="ìƒí’ˆì´ë¦„" readonly></td>
                                <td><input type="number" class="quantity" value="1" min="1" required></td>
                                <td><input type="text" class="unit-price" placeholder="______" required></td>
                                <td><input type="text" class="total-price" readonly></td>
                                <td class="no-print">
                                    <div class="action-buttons">
                                        <button type="button" class="remove-btn" onclick="removeProductRow(this)">ì‚­ì œ</button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="no-print">
                                <td colspan="7" class="add-row-container">
                                    <button type="button" class="add-btn" onclick="addProductRowInSection(this)">+ ìƒí’ˆ ì¶”ê°€</button>
                                </td>
                            </tr>
                            <tr class="total-row">
                                <td colspan="3">ì´ ìˆ˜ëŸ‰</td>
                                <td class="section-total-quantity">0</td>
                                <td>ì´ ê¸ˆì•¡</td>
                                <td colspan="2" class="section-grand-total">0ì›</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            `;
            
            // ì»¨í…Œì´ë„ˆì— ìƒˆ ì„¹ì…˜ ì¶”ê°€
            container.appendChild(newSection);
            
            // ìƒˆ ì„¹ì…˜ì˜ ì²« ë²ˆì§¸ ìƒí’ˆ í–‰ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë° í¬ë§·íŒ… ì ìš©
            const firstRow = newSection.querySelector('.product-row');
            attachRowEventListeners(firstRow);
            attachProductCodeFormatting(firstRow);
            
            // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
            showAlert('âœ… ìƒˆë¡œìš´ ì£¼ë¬¸ ì„¹ì…˜ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            
            // ìƒˆ ì„¹ì…˜ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤
            newSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        /**
         * ì„¹ì…˜ ì‚­ì œ
         * @param {HTMLElement} button - ì‚­ì œ ë²„íŠ¼ ìš”ì†Œ
         */
        function removeSection(button) {
            const sections = document.querySelectorAll('.order-section');
            
            // ìµœì†Œ 1ê°œì˜ ì„¹ì…˜ì€ ìœ ì§€í•´ì•¼ í•¨
            if (sections.length <= 1) {
                showAlert('âš ï¸ ìµœì†Œ 1ê°œì˜ ì£¼ë¬¸ ì„¹ì…˜ì€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.', 'warning');
                return;
            }
            
            const section = button.closest('.order-section');
            if (!section) {
                console.error('ì„¹ì…˜ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            const sectionNumber = section.querySelector('.section-number').textContent;
            
            // ì‚­ì œ í™•ì¸
            const confirmDelete = confirm(`${sectionNumber} ì„¹ì…˜ ì „ì²´ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n(ë³´ë‚´ëŠ” ë¶„, ë°›ëŠ” ë¶„, ìƒí’ˆ ì •ë³´ê°€ ëª¨ë‘ ì‚­ì œë©ë‹ˆë‹¤)`);
            if (!confirmDelete) {
                return;
            }
            
            // ì„¹ì…˜ ì œê±°
            section.remove();
            
            // ì„¹ì…˜ ë²ˆí˜¸ ì¬ì •ë ¬
            renumberSections();
            
            showAlert('âœ… ì£¼ë¬¸ ì„¹ì…˜ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        }

        /**
         * ëª¨ë“  ì„¹ì…˜ì˜ ë²ˆí˜¸ë¥¼ ì¬ì •ë ¬
         */
        function renumberSections() {
            const sections = document.querySelectorAll('.order-section');
            sections.forEach((section, index) => {
                const sectionNumber = section.querySelector('.section-number');
                sectionNumber.textContent = `ì£¼ë¬¸ #${index + 1}`;
                section.setAttribute('data-section', index + 1);
            });
            sectionCounter = sections.length;
        }

        // ========================================
        // ìƒí’ˆ í–‰ ê´€ë¦¬ í•¨ìˆ˜
        // ========================================
        
        /**
         * ì„¹ì…˜ ë‚´ì— ìƒˆë¡œìš´ ìƒí’ˆ í–‰ ì¶”ê°€
         * @param {HTMLElement} button - ìƒí’ˆ ì¶”ê°€ ë²„íŠ¼ ìš”ì†Œ
         */
        function addProductRowInSection(button) {
            const section = button.closest('.order-section');
            const tbody = section.querySelector('.product-table-body');
            const rows = tbody.querySelectorAll('.product-row');
            
            // í˜„ì¬ ë§ˆì§€ë§‰ í–‰ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸
            if (rows.length > 0) {
                const lastRow = rows[rows.length - 1];
                const productCode = lastRow.querySelector('.product-code');
                const quantity = lastRow.querySelector('.quantity');
                const unitPrice = lastRow.querySelector('.unit-price');
                
                if (!productCode.value.trim()) {
                    productCode.focus();
                    productCode.classList.add('error');
                    showAlert('âš ï¸ í˜„ì¬ ìƒí’ˆì˜ ì½”ë“œë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                    setTimeout(() => productCode.classList.remove('error'), 3000);
                    return;
                }
                if (!quantity.value || parseInt(quantity.value) <= 0) {
                    quantity.focus();
                    quantity.classList.add('error');
                    showAlert('âš ï¸ í˜„ì¬ ìƒí’ˆì˜ ìˆ˜ëŸ‰ì„ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                    setTimeout(() => quantity.classList.remove('error'), 3000);
                    return;
                }
                if (!unitPrice.value || parseInt(unitPrice.value) <= 0) {
                    unitPrice.focus();
                    unitPrice.classList.add('error');
                    showAlert('âš ï¸ í˜„ì¬ ìƒí’ˆì˜ ë‹¨ê°€ë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                    setTimeout(() => unitPrice.classList.remove('error'), 3000);
                    return;
                }
            }
            
            const nextRowNumber = rows.length + 1;
            
            // ìƒˆ í–‰ ìƒì„±
            const newRow = document.createElement('tr');
            newRow.className = 'product-row';
            newRow.setAttribute('data-row', nextRowNumber);
            
            // í–‰ HTML êµ¬ì¡° ìƒì„±
            newRow.innerHTML = `
                <td class="row-number no-print">${nextRowNumber}</td>
                <td><input type="text" class="product-code" placeholder="00-00" required></td>
                <td><input type="text" class="product-name" placeholder="ìƒí’ˆì´ë¦„" readonly></td>
                <td><input type="number" class="quantity" value="1" min="1" required></td>
                <td><input type="text" class="unit-price" placeholder="______" required></td>
                <td><input type="text" class="total-price" readonly></td>
                <td class="no-print">
                    <div class="action-buttons">
                        <button type="button" class="remove-btn" onclick="removeProductRow(this)">ì‚­ì œ</button>
                    </div>
                </td>
            `;
            
            // tbodyì— ìƒˆ í–‰ ì¶”ê°€
            tbody.appendChild(newRow);
            
            // ìƒˆë¡œ ì¶”ê°€ëœ í–‰ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë° í¬ë§·íŒ… ì ìš©
            attachRowEventListeners(newRow);
            attachProductCodeFormatting(newRow);
            
            // í•´ë‹¹ ì„¹ì…˜ì˜ í•©ê³„ ì—…ë°ì´íŠ¸
            updateSectionTotals(section);
            
            showAlert('âœ… ìƒˆë¡œìš´ ìƒí’ˆ í–‰ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        }

        /**
         * ìƒí’ˆ í–‰ ì‚­ì œ
         * @param {HTMLElement} button - ì‚­ì œ ë²„íŠ¼ ìš”ì†Œ
         */
        function removeProductRow(button) {
            const section = button.closest('.order-section');
            const rows = section.querySelectorAll('.product-row');
            
            // ìµœì†Œ 1ê°œì˜ í–‰ì€ ìœ ì§€í•´ì•¼ í•¨
            if (rows.length <= 1) {
                showAlert('âš ï¸ ìµœì†Œ 1ê°œì˜ ìƒí’ˆì€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.', 'warning');
                return;
            }
            
            const row = button.closest('.product-row');
            row.remove();
            
            // í•´ë‹¹ ì„¹ì…˜ì˜ í–‰ ë²ˆí˜¸ ì¬ì •ë ¬
            renumberRowsInSection(section);
            
            // í•´ë‹¹ ì„¹ì…˜ì˜ í•©ê³„ ì—…ë°ì´íŠ¸
            updateSectionTotals(section);
            
            showAlert('âœ… ìƒí’ˆ í–‰ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        }

        /**
         * ì„¹ì…˜ ë‚´ ëª¨ë“  í–‰ì˜ ë²ˆí˜¸ë¥¼ ì¬ì •ë ¬
         * @param {HTMLElement} section - ëŒ€ìƒ ì„¹ì…˜ ìš”ì†Œ
         */
        function renumberRowsInSection(section) {
            const rows = section.querySelectorAll('.product-row');
            rows.forEach((row, index) => {
                const rowNumber = row.querySelector('.row-number');
                if (rowNumber) {
                    rowNumber.textContent = index + 1;
                }
                row.setAttribute('data-row', index + 1);
            });
        }

        // ========================================
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë° ê³„ì‚° í•¨ìˆ˜
        // ========================================
        
        /**
         * ìƒí’ˆ í–‰ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ (ìˆ˜ëŸ‰, ë‹¨ê°€ ë³€ê²½ ì‹œ ê¸ˆì•¡ ìë™ ê³„ì‚°)
         * @param {HTMLElement} row - ëŒ€ìƒ í–‰ ìš”ì†Œ
         */
        function attachRowEventListeners(row) {
            const quantity = row.querySelector('.quantity');
            const unitPrice = row.querySelector('.unit-price');
            
            // ìˆ˜ëŸ‰ ë³€ê²½ ì‹œ ê¸ˆì•¡ ì¬ê³„ì‚°
            quantity.addEventListener('input', () => calculateRowTotal(row));
            
            // ë‹¨ê°€ ì…ë ¥ ì‹œ ì²œë‹¨ìœ„ ì‰¼í‘œ ìë™ í¬ë§·íŒ… ë° ê¸ˆì•¡ ì¬ê³„ì‚°
            unitPrice.addEventListener('input', function() {
                // í˜„ì¬ ì»¤ì„œ ìœ„ì¹˜ ì €ì¥
                let cursorPosition = this.selectionStart;
                const oldValue = this.value;
                const oldLength = oldValue.length;
                
                // ìˆ«ìë§Œ ì¶”ì¶œ
                const numbersOnly = oldValue.replace(/[^\d]/g, '');
                
                // ë¹ˆ ê°’ì´ë©´ ê·¸ëŒ€ë¡œ ìœ ì§€
                if (!numbersOnly) {
                    this.value = '';
                    calculateRowTotal(row);
                    return;
                }
                
                // ì²œë‹¨ìœ„ ì‰¼í‘œ ì ìš©
                const formatted = formatNumberWithCommas(parseInt(numbersOnly));
                this.value = formatted;
                
                // ì»¤ì„œ ìœ„ì¹˜ ì¡°ì • (ì‰¼í‘œê°€ ì¶”ê°€ë˜ë©´ ì»¤ì„œê°€ ì´ë™í•˜ë¯€ë¡œ ì¡°ì • í•„ìš”)
                const newLength = formatted.length;
                const diff = newLength - oldLength;
                this.setSelectionRange(cursorPosition + diff, cursorPosition + diff);
                
                // ê¸ˆì•¡ ì¬ê³„ì‚°
                calculateRowTotal(row);
            });
            
            // ë‹¨ê°€ í•„ë“œì—ì„œ í¬ì»¤ìŠ¤ê°€ ë²—ì–´ë‚  ë•Œë„ í¬ë§·íŒ… í™•ì¸
            unitPrice.addEventListener('blur', function() {
                const value = this.value.replace(/,/g, '');
                if (value) {
                    this.value = formatNumberWithCommas(parseInt(value));
                }
            });
        }

        /**
         * ê°œë³„ í–‰ì˜ ê¸ˆì•¡ ê³„ì‚° (ìˆ˜ëŸ‰ Ã— ë‹¨ê°€)
         * @param {HTMLElement} row - ëŒ€ìƒ í–‰ ìš”ì†Œ
         */
        function calculateRowTotal(row) {
            const quantityInput = row.querySelector('.quantity');
            const unitPriceInput = row.querySelector('.unit-price');
            const totalPriceInput = row.querySelector('.total-price');
            
            const quantity = parseInt(quantityInput.value) || 0;
            const unitPrice = parseFormattedNumber(unitPriceInput.value) || 0;
            const total = quantity * unitPrice;
            
            // ê¸ˆì•¡ í•„ë“œì— ì²œë‹¨ìœ„ ì‰¼í‘œê°€ í¬í•¨ëœ ê°’ ì„¤ì •
            totalPriceInput.value = formatNumberWithCommas(total);
            
            // í•´ë‹¹ ì„¹ì…˜ì˜ í•©ê³„ ì—…ë°ì´íŠ¸
            const section = row.closest('.order-section');
            updateSectionTotals(section);
        }

        /**
         * ì„¹ì…˜ë³„ ì´ ìˆ˜ëŸ‰ê³¼ ì´ ê¸ˆì•¡ ê³„ì‚° ë° ì—…ë°ì´íŠ¸
         * @param {HTMLElement} section - ëŒ€ìƒ ì„¹ì…˜ ìš”ì†Œ
         */
        function updateSectionTotals(section) {
            const rows = section.querySelectorAll('.product-row');
            let totalQuantity = 0;
            let grandTotal = 0;
            
            // ëª¨ë“  í–‰ì˜ ìˆ˜ëŸ‰ê³¼ ê¸ˆì•¡ì„ í•©ì‚°
            rows.forEach(row => {
                const quantity = parseInt(row.querySelector('.quantity').value) || 0;
                const totalPriceValue = row.querySelector('.total-price').value;
                const totalPrice = parseFormattedNumber(totalPriceValue) || 0;
                
                totalQuantity += quantity;
                grandTotal += totalPrice;
            });
            
            // í•©ê³„ í•„ë“œ ì—…ë°ì´íŠ¸ (ì²œë‹¨ìœ„ ì‰¼í‘œ í¬í•¨)
            const totalQuantityEl = section.querySelector('.section-total-quantity');
            const grandTotalEl = section.querySelector('.section-grand-total');
            
            if (totalQuantityEl) totalQuantityEl.textContent = totalQuantity;
            if (grandTotalEl) grandTotalEl.textContent = formatNumberWithCommas(grandTotal) + 'ì›';
        }

        // ========================================
        // ìƒí’ˆ ì½”ë“œ í¬ë§·íŒ… ë° ìë™ì™„ì„± í•¨ìˆ˜
        // ========================================
        
        /**
         * ìˆ«ìë¥¼ ì²œë‹¨ìœ„ ì‰¼í‘œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜
         * @param {number} num - ë³€í™˜í•  ìˆ«ì
         * @returns {string} - ì²œë‹¨ìœ„ ì‰¼í‘œê°€ ì¶”ê°€ëœ ë¬¸ìì—´
         */
        function formatNumberWithCommas(num) {
            if (!num && num !== 0) return '';
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        /**
         * ì²œë‹¨ìœ„ ì‰¼í‘œê°€ í¬í•¨ëœ ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜
         * @param {string} str - ë³€í™˜í•  ë¬¸ìì—´
         * @returns {number} - ë³€í™˜ëœ ìˆ«ì
         */
        function parseFormattedNumber(str) {
            if (!str) return 0;
            return parseInt(str.toString().replace(/,/g, '')) || 0;
        }

        /**
         * ìƒí’ˆ ì½”ë“œ ì…ë ¥ í•„ë“œì— í¬ë§·íŒ… ë° ìë™ì™„ì„± ê¸°ëŠ¥ ì¶”ê°€
         * @param {HTMLElement} row - ëŒ€ìƒ í–‰ ìš”ì†Œ
         */
        function attachProductCodeFormatting(row) {
            const productCodeInput = row.querySelector('.product-code');
            const productNameInput = row.querySelector('.product-name');
            const quantityInput = row.querySelector('.quantity');
            const unitPriceInput = row.querySelector('.unit-price');
            
            // Enter í‚¤ ì…ë ¥ ì‹œ Tab í‚¤ì²˜ëŸ¼ ë™ì‘
            productCodeInput.addEventListener('keydown', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault(); // ê¸°ë³¸ Enter ë™ì‘ ë°©ì§€
                    
                    // blur ì´ë²¤íŠ¸ë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ í¬ë§·íŒ… ë° ìë™ì™„ì„± ì‹¤í–‰
                    this.blur();
                    
                    // ë‹¤ìŒ í•„ë“œ(ìˆ˜ëŸ‰)ë¡œ í¬ì»¤ìŠ¤ ì´ë™
                    if (quantityInput) {
                        setTimeout(() => {
                            quantityInput.focus();
                            quantityInput.select(); // ë‚´ìš© ì „ì²´ ì„ íƒ
                        }, 100);
                    }
                }
            });
            
            // ìƒí’ˆ ì½”ë“œ ì…ë ¥ ì‹œ í¬ë§·íŒ… ë° ìë™ì™„ì„±
            productCodeInput.addEventListener('blur', function() {
                const code = this.value.trim();
                
                // ìƒí’ˆ ì½”ë“œê°€ ë¹„ì–´ìˆìœ¼ë©´ ìƒí’ˆì´ë¦„ê³¼ í•„ë“œ ì´ˆê¸°í™”
                if (!code) {
					productNameInput.value = '';
					productNameInput.placeholder = 'â€» ìƒí’ˆ ì½”ë“œ í˜•ì‹ ì˜¤ë¥˜';
					quantityInput.value = '1'; // ìˆ˜ëŸ‰ì€ 1ë¡œ ì´ˆê¸°í™”
					unitPriceInput.value = '';
					row.querySelector('.total-price').value = '';
                    return;
                }
                
                // ìƒí’ˆ ì½”ë“œ í¬ë§·íŒ…
                const formatSuccess = formatProductCode(this);
                
                // í¬ë§·íŒ…ì´ ì‹¤íŒ¨í•˜ë©´ ìƒí’ˆì´ë¦„, ë‹¨ê°€, ê¸ˆì•¡ ì§€ìš°ê¸°
				if (!formatSuccess) {
					productNameInput.value = '';
					productNameInput.placeholder = 'â€» ìƒí’ˆ ì½”ë“œ í˜•ì‹ ì˜¤ë¥˜';
					quantityInput.value = '1'; // ìˆ˜ëŸ‰ì€ 1ë¡œ ì´ˆê¸°í™”
					unitPriceInput.value = '';
					row.querySelector('.total-price').value = '';
					return;
				}
                
                // í¬ë§·íŒ…ëœ ì½”ë“œë¡œ ìƒí’ˆ ì •ë³´ ê²€ìƒ‰
                const formattedCode = this.value.trim();
                
                if (formattedCode) {
                    // products.js íŒŒì¼ì´ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
                    if (typeof PRODUCTS_DATA === 'undefined' || !PRODUCTS_DATA) {
                        productNameInput.value = '';
                        productNameInput.placeholder = 'â€» products.js íŒŒì¼ ë¡œë“œ í•„ìš”';
                        console.error('products.js íŒŒì¼ì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                        return;
                    }
                    
                    const productInfo = getProductInfo(formattedCode);
                    
                    if (productInfo) {
                        // ìƒí’ˆì´ë¦„ ìë™ ì…ë ¥
                        productNameInput.value = productInfo.name;
                        productNameInput.placeholder = 'ìƒí’ˆì´ë¦„';
                        
                        // ìˆ˜ëŸ‰ì„ ìƒí’ˆ ì •ë³´ì˜ ê¸°ë³¸ ìˆ˜ëŸ‰ìœ¼ë¡œ ì„¤ì • (ìˆëŠ” ê²½ìš°), ì—†ìœ¼ë©´ 1ë¡œ ìœ ì§€
                        if (productInfo.quantity) {
                            quantityInput.value = productInfo.quantity;
                        }
                        
                        // ë‹¨ê°€ë¥¼ ìƒí’ˆ ì •ë³´ì˜ ê°€ê²©ìœ¼ë¡œ ìë™ ì…ë ¥
                        unitPriceInput.value = productInfo.price;
                        
                        // ê¸ˆì•¡ ì¬ê³„ì‚° (ì²œë‹¨ìœ„ ì‰¼í‘œ í¬í•¨)
                        calculateRowTotal(row);
                        
                        console.log(`ìƒí’ˆ ì •ë³´ ìë™ì™„ì„±: ${formattedCode} -> ${productInfo.name} (ìˆ˜ëŸ‰: ${quantityInput.value}, ë‹¨ê°€: ${productInfo.price}ì›)`);
                    } else {
                        // ìƒí’ˆì„ ì°¾ì§€ ëª»í•œ ê²½ìš° - ìƒí’ˆì´ë¦„ ì§€ìš°ê¸°
                        productNameInput.value = '';
						quantityInput.value = '1'; // ìˆ˜ëŸ‰ì€ 1ë¡œ ì´ˆê¸°í™”
						unitPriceInput.value = '';
                        row.querySelector('.total-price').value = '';
						productNameInput.placeholder = 'â€» ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŒ';
                        console.log(`ìƒí’ˆ ì½”ë“œ "${formattedCode}"ì— í•´ë‹¹í•˜ëŠ” ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
						
						// ìƒí’ˆì½”ë“œë¡œ í¬ì»¤ìŠ¤ ì´ë™ ë° ì „ì²´ ì„ íƒ
						setTimeout(() => {
							productCodeInput.focus();
							productCodeInput.select();
						}, 100);
						}
                }
            });
            
            // ì‹¤ì‹œê°„ìœ¼ë¡œë„ í™•ì¸ (ì…ë ¥ ì¤‘)
            productCodeInput.addEventListener('input', function() {
                const code = this.value.trim();
                
                // ì½”ë“œê°€ ë¹„ì–´ìˆìœ¼ë©´ ìƒí’ˆì´ë¦„ ì§€ìš°ê¸°
                if (!code) {
                    productNameInput.value = '';
                    productNameInput.placeholder = 'ìƒí’ˆì´ë¦„';
                    return;
                }
                
                // products.jsê°€ ë¡œë“œë˜ì–´ ìˆê³ , ì½”ë“œì— í•˜ì´í”ˆì´ ìˆì„ ë•Œë§Œ ì‹¤ì‹œê°„ ê²€ìƒ‰
                if (typeof PRODUCTS_DATA !== 'undefined' && PRODUCTS_DATA && code && code.includes('-')) {
                    const productInfo = getProductInfo(code);
                    if (productInfo) {
                        productNameInput.value = productInfo.name;
                        productNameInput.placeholder = 'ìƒí’ˆì´ë¦„';
                        
                        // ìˆ˜ëŸ‰ì„ ìƒí’ˆ ì •ë³´ì˜ ê¸°ë³¸ ìˆ˜ëŸ‰ìœ¼ë¡œ ì„¤ì • (ìˆëŠ” ê²½ìš°)
                        if (productInfo.quantity) {
                            quantityInput.value = productInfo.quantity;
                        }
                        
                        // ë‹¨ê°€ë¥¼ ìƒí’ˆ ì •ë³´ì˜ ê°€ê²©ìœ¼ë¡œ ìë™ ì…ë ¥
                        unitPriceInput.value = productInfo.price;
                        
                        // ê¸ˆì•¡ ì¬ê³„ì‚° (ì²œë‹¨ìœ„ ì‰¼í‘œ í¬í•¨)
                        calculateRowTotal(row);
                    } else {
                        // ìƒí’ˆì„ ì°¾ì§€ ëª»í•˜ë©´ ìƒí’ˆì´ë¦„ ì§€ìš°ê¸°
                        productNameInput.value = '';
                        productNameInput.placeholder = 'ìƒí’ˆì´ë¦„';
                    }
                }
            });
        }

        /**
         * ìƒí’ˆ ì½”ë“œë¥¼ í‘œì¤€ í˜•ì‹ìœ¼ë¡œ í¬ë§·íŒ…
         * í˜•ì‹: 00-00 ë˜ëŠ” 000-00 (ì˜ˆ: 8-1 â†’ 08-01, 106-1 â†’ 106-01)
         * @param {HTMLInputElement} input - ìƒí’ˆ ì½”ë“œ ì…ë ¥ í•„ë“œ
         * @returns {boolean} - í¬ë§·íŒ… ì„±ê³µ ì—¬ë¶€
         */
        function formatProductCode(input) {
            // ìˆ«ìì™€ í•˜ì´í”ˆë§Œ í—ˆìš©
            let value = input.value.replace(/[^0-9-]/g, '');
            
            if (!value) {
                // ë¹ˆ ê°’ì´ë©´ ì²˜ë¦¬ ì•ˆ í•¨
                return true;
            }
            
            // í•˜ì´í”ˆì´ ì—†ëŠ” ê²½ìš° - ì˜¤ë¥˜
            if (!value.includes('-')) {
                input.classList.add('error');
                input.value = value;
                showAlert('âš ï¸ ìƒí’ˆ ì½”ë“œëŠ” í•˜ì´í”ˆ(-)ì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤. (ì˜ˆ: 08-01)', 'warning');
                setTimeout(() => {
                    input.classList.remove('error');
                }, 3000);
                return false;
            }
            
            // í•˜ì´í”ˆì´ ì—¬ëŸ¬ ê°œì¸ ê²½ìš° - ì²« ë²ˆì§¸ í•˜ì´í”ˆë§Œ ì‚¬ìš©
            const parts = value.split('-');
            if (parts.length > 2) {
                // ì²« ë²ˆì§¸ì™€ ë‘ ë²ˆì§¸ ë¶€ë¶„ë§Œ ì‚¬ìš©
                value = parts[0] + '-' + parts.slice(1).join('');
            }
            
            // í•˜ì´í”ˆìœ¼ë¡œ ë¶„ë¦¬
            const [part1, part2] = value.split('-');
            
            // ì•ë¶€ë¶„ê³¼ ë’·ë¶€ë¶„ì´ ëª¨ë‘ ìˆì–´ì•¼ í•¨
            if (!part1 || !part2) {
                input.classList.add('error');
                input.value = value;
                showAlert('âš ï¸ ìƒí’ˆ ì½”ë“œ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ì˜ˆ: 08-01)', 'warning');
                setTimeout(() => {
                    input.classList.remove('error');
                }, 3000);
                return false;
            }
            
            // ì•ë¶€ë¶„ í¬ë§·íŒ…: 1ìë¦¬ë©´ 0 ì¶”ê°€, 2ìë¦¬ ì´ìƒì´ë©´ ê·¸ëŒ€ë¡œ (ìµœëŒ€ 3ìë¦¬)
            let formattedPart1 = part1;
            if (part1.length === 1) {
                formattedPart1 = '0' + part1;
            } else if (part1.length > 3) {
                formattedPart1 = part1.substring(0, 3);
            }
            
            // ë’·ë¶€ë¶„ í¬ë§·íŒ…: 2ìë¦¬ë¡œ íŒ¨ë”© (00-99)
            let formattedPart2 = part2.padStart(2, '0').substring(0, 2);
            
            // ìµœì¢… í¬ë§·íŒ…ëœ ê°’
            const formattedValue = `${formattedPart1}-${formattedPart2}`;
            input.value = formattedValue;
            
            return true;
        }

        // ========================================
        // ì•Œë¦¼ ë©”ì‹œì§€ í‘œì‹œ í•¨ìˆ˜
        // ========================================
        
        /**
         * ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ ë©”ì‹œì§€ í‘œì‹œ
         * @param {string} message - í‘œì‹œí•  ë©”ì‹œì§€
         * @param {string} type - ë©”ì‹œì§€ íƒ€ì… ('success', 'warning', 'error')
         */
        function showAlert(message, type = 'success') {
            const alertBox = document.getElementById('alertBox');
            alertBox.textContent = message;
            alertBox.className = `alert ${type}`;
            alertBox.style.display = 'block';
            
            // 3ì´ˆ í›„ ìë™ìœ¼ë¡œ ìˆ¨ê¹€
            setTimeout(() => {
                alertBox.style.display = 'none';
            }, 3000);
        }

        // ========================================
        // ì¸ì‡„ ë° ì œì¶œ í•¨ìˆ˜
        // ========================================
        
        /**
         * ì£¼ë¬¸ì„œ ì¸ì‡„ ë° êµ¬ê¸€ ì„¤ë¬¸ì§€ ì œì¶œ
         */
        async function printOrder() {
            // ì…ë ¥ ê²€ì¦
            if (!validateAllInputs()) {
                return;
            }
            
            // êµ¬ê¸€ í¼ ì œì¶œ
            const submitted = await submitToGoogleForm();
            
            if (submitted) {
                // ì¸ì‡„ ëŒ€í™”ìƒì í‘œì‹œ
                window.print();
            }
        }

        /**
         * ëª¨ë“  ì…ë ¥ í•„ë“œ ê²€ì¦
         * @returns {boolean} - ê²€ì¦ í†µê³¼ ì—¬ë¶€
         */
        function validateAllInputs() {
            // 1. ì£¼ë¬¸ì ì •ë³´ ê²€ì¦
            const ordererName = document.getElementById('ordererName');
            const ordererPhone = document.getElementById('ordererPhone');
            const ordererPostal = document.getElementById('ordererPostal');
            const ordererAddress = document.getElementById('ordererAddress');
            
            if (!ordererName.value.trim()) {
                ordererName.focus();
                ordererName.classList.add('error');
                showAlert('âš ï¸ ì£¼ë¬¸ì ì„±ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                setTimeout(() => ordererName.classList.remove('error'), 3000);
                return false;
            }
            
            if (!ordererPhone.value.trim()) {
                ordererPhone.focus();
                ordererPhone.classList.add('error');
                showAlert('âš ï¸ ì£¼ë¬¸ì ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                setTimeout(() => ordererPhone.classList.remove('error'), 3000);
                return false;
            }
            
            if (!ordererPostal.value.trim()) {
                ordererPostal.focus();
                ordererPostal.classList.add('error');
                showAlert('âš ï¸ ì£¼ë¬¸ì ìš°í¸ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                setTimeout(() => ordererPostal.classList.remove('error'), 3000);
                return false;
            }
            
            if (!ordererAddress.value.trim()) {
                ordererAddress.focus();
                ordererAddress.classList.add('error');
                showAlert('âš ï¸ ì£¼ë¬¸ì ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
                setTimeout(() => ordererAddress.classList.remove('error'), 3000);
                return false;
            }
            
            // 2. ê° ì„¹ì…˜ë³„ ê²€ì¦
            const sections = document.querySelectorAll('.order-section');
            for (let i = 0; i < sections.length; i++) {
                const section = sections[i];
                const sectionNum = i + 1;
                
                // ë³´ë‚´ëŠ” ë¶„ ì •ë³´ ê²€ì¦
                const senderName = section.querySelector('.sender-name');
                const senderPhone = section.querySelector('.sender-phone');
                const senderPostal = section.querySelector('.sender-postal');
                const senderAddress = section.querySelector('.sender-address');
                
                if (!senderName.value.trim()) {
                    senderName.focus();
                    senderName.classList.add('error');
                    showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum}] ë³´ë‚´ëŠ” ë¶„ ì„±ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => senderName.classList.remove('error'), 3000);
                    return false;
                }
                
                if (!senderPhone.value.trim()) {
                    senderPhone.focus();
                    senderPhone.classList.add('error');
                    showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum}] ë³´ë‚´ëŠ” ë¶„ ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => senderPhone.classList.remove('error'), 3000);
                    return false;
                }
                
                if (!senderPostal.value.trim()) {
                    senderPostal.focus();
                    senderPostal.classList.add('error');
                    showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum}] ë³´ë‚´ëŠ” ë¶„ ìš°í¸ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => senderPostal.classList.remove('error'), 3000);
                    return false;
                }
                
                if (!senderAddress.value.trim()) {
                    senderAddress.focus();
                    senderAddress.classList.add('error');
                    showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum}] ë³´ë‚´ëŠ” ë¶„ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => senderAddress.classList.remove('error'), 3000);
                    return false;
                }
                
                // ë°›ëŠ” ë¶„ ì •ë³´ ê²€ì¦
                const receiverName = section.querySelector('.receiver-name');
                const receiverPhone = section.querySelector('.receiver-phone');
                const receiverPostal = section.querySelector('.receiver-postal');
                const receiverAddress = section.querySelector('.receiver-address');
                
                if (!receiverName.value.trim()) {
                    receiverName.focus();
                    receiverName.classList.add('error');
                    showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum}] ë°›ëŠ” ë¶„ ì„±ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => receiverName.classList.remove('error'), 3000);
                    return false;
                }
                
                if (!receiverPhone.value.trim()) {
                    receiverPhone.focus();
                    receiverPhone.classList.add('error');
                    showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum}] ë°›ëŠ” ë¶„ ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => receiverPhone.classList.remove('error'), 3000);
                    return false;
                }
                
                if (!receiverPostal.value.trim()) {
                    receiverPostal.focus();
                    receiverPostal.classList.add('error');
                    showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum}] ë°›ëŠ” ë¶„ ìš°í¸ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => receiverPostal.classList.remove('error'), 3000);
                    return false;
                }
                
                if (!receiverAddress.value.trim()) {
                    receiverAddress.focus();
                    receiverAddress.classList.add('error');
                    showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum}] ë°›ëŠ” ë¶„ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                    section.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    setTimeout(() => receiverAddress.classList.remove('error'), 3000);
                    return false;
                }
                
                // ìƒí’ˆ ì •ë³´ ê²€ì¦
                const rows = section.querySelectorAll('.product-row');
                for (let j = 0; j < rows.length; j++) {
                    const row = rows[j];
                    const rowNum = j + 1;
                    const productCode = row.querySelector('.product-code');
                    const quantity = row.querySelector('.quantity');
                    const unitPrice = row.querySelector('.unit-price');
                    
                    if (!productCode.value.trim()) {
                        productCode.focus();
                        productCode.classList.add('error');
                        showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum} - ìƒí’ˆ ${rowNum}] ìƒí’ˆ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                        section.scrollIntoView({ behavior: 'smooth', block: 'end' });
                        setTimeout(() => productCode.classList.remove('error'), 3000);
                        return false;
                    }
                    
                    if (!quantity.value || parseInt(quantity.value) <= 0) {
                        quantity.focus();
                        quantity.classList.add('error');
                        showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum} - ìƒí’ˆ ${rowNum}] ìˆ˜ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                        section.scrollIntoView({ behavior: 'smooth', block: 'end' });
                        setTimeout(() => quantity.classList.remove('error'), 3000);
                        return false;
                    }
                    
                    if (!unitPrice.value || parseFormattedNumber(unitPrice.value) <= 0) {
                        unitPrice.focus();
                        unitPrice.classList.add('error');
                        showAlert(`âš ï¸ [ì£¼ë¬¸ #${sectionNum} - ìƒí’ˆ ${rowNum}] ë‹¨ê°€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                        section.scrollIntoView({ behavior: 'smooth', block: 'end' });
                        setTimeout(() => unitPrice.classList.remove('error'), 3000);
                        return false;
                    }
                }
            }
            
            return true;
        }

        /**
         * êµ¬ê¸€ ì„¤ë¬¸ì§€ì— ë°ì´í„° ì œì¶œ
         * @returns {Promise<boolean>} - ì œì¶œ ì„±ê³µ ì—¬ë¶€
         */
        async function submitToGoogleForm() {
            // config.jsì—ì„œ êµ¬ê¸€ í¼ ì„¤ì • ê°€ì ¸ì˜¤ê¸°
            if (typeof GOOGLE_FORM_CONFIG === 'undefined') {
                console.log('config.js íŒŒì¼ì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                showAlert('âš ï¸ config.js íŒŒì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”. ì¸ì‡„ë§Œ ì§„í–‰í•©ë‹ˆë‹¤.', 'warning');
                return true; // ì¸ì‡„ëŠ” ì§„í–‰
            }
            
            const googleFormUrl = GOOGLE_FORM_CONFIG.formUrl;
            
            // êµ¬ê¸€ í¼ URLì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì œì¶œí•˜ì§€ ì•ŠìŒ
            if (!googleFormUrl) {
                console.log('êµ¬ê¸€ í¼ URLì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                return true; // ì¸ì‡„ëŠ” ì§„í–‰
            }
            
            // Entry ID ê°€ì ¸ì˜¤ê¸°
            const entryDateTime = GOOGLE_FORM_CONFIG.entries.dateTime;
            const entryName = GOOGLE_FORM_CONFIG.entries.name;
            const entryPhone = GOOGLE_FORM_CONFIG.entries.phone;
            const entryOrderData = GOOGLE_FORM_CONFIG.entries.orderData;
            
            // Entry IDê°€ ëª¨ë‘ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
            if (!entryDateTime || !entryName || !entryPhone || !entryOrderData) {
                showAlert('âš ï¸ config.jsì—ì„œ ëª¨ë“  Entry IDë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”. ì¸ì‡„ë§Œ ì§„í–‰í•©ë‹ˆë‹¤.', 'warning');
                return true;
            }
            
            // ì£¼ë¬¸ ë°ì´í„° ìˆ˜ì§‘
            const orderData = collectOrderData();
            
            // FormData ìƒì„±
            const formData = new FormData();
            formData.append(entryDateTime, document.getElementById('currentDateTime').textContent);
            formData.append(entryName, document.getElementById('ordererName').value);
            formData.append(entryPhone, document.getElementById('ordererPhone').value);
            formData.append(entryOrderData, JSON.stringify(orderData, null, 2));
            
            try {
                // êµ¬ê¸€ í¼ì— ì œì¶œ (no-cors ëª¨ë“œë¡œ ì „ì†¡)
                await fetch(googleFormUrl, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: formData
                });
                
                showAlert('âœ… ì£¼ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
                return true;
            } catch (error) {
                console.error('êµ¬ê¸€ í¼ ì œì¶œ ì˜¤ë¥˜:', error);
                showAlert('âš ï¸ ì£¼ë¬¸ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì¸ì‡„ëŠ” ì§„í–‰í•©ë‹ˆë‹¤.', 'warning');
                return true; // ì˜¤ë¥˜ê°€ ìˆì–´ë„ ì¸ì‡„ëŠ” ì§„í–‰
            }
        }

        /**
         * ëª¨ë“  ì£¼ë¬¸ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ê°ì²´ë¡œ ë°˜í™˜
         * @returns {Object} - ì£¼ë¬¸ ë°ì´í„° ê°ì²´
         */
        function collectOrderData() {
            const data = {
                ì£¼ë¬¸ìì •ë³´: {
                    ì„±ëª…: document.getElementById('ordererName').value,
                    ì „í™”ë²ˆí˜¸: document.getElementById('ordererPhone').value,
                    ìš°í¸ë²ˆí˜¸: document.getElementById('ordererPostal').value,
                    ê¸°ë³¸ì£¼ì†Œ: document.getElementById('ordererAddress').value,
                    ìƒì„¸ì£¼ì†Œ: document.getElementById('ordererAddressDetail').value
                },
                ì£¼ë¬¸ëª©ë¡: []
            };

            const sections = document.querySelectorAll('.order-section');
            sections.forEach((section, index) => {
                const sectionData = {
                    ì£¼ë¬¸ë²ˆí˜¸: index + 1,
                    ë³´ë‚´ëŠ”ë¶„: {
                        ì„±ëª…: section.querySelector('.sender-name').value,
                        ì „í™”ë²ˆí˜¸: section.querySelector('.sender-phone').value,
                        ìš°í¸ë²ˆí˜¸: section.querySelector('.sender-postal').value,
                        ê¸°ë³¸ì£¼ì†Œ: section.querySelector('.sender-address').value,
                        ìƒì„¸ì£¼ì†Œ: section.querySelector('.sender-address-detail').value
                    },
                    ë°›ëŠ”ë¶„: {
                        ì„±ëª…: section.querySelector('.receiver-name').value,
                        ì „í™”ë²ˆí˜¸: section.querySelector('.receiver-phone').value,
                        ìš°í¸ë²ˆí˜¸: section.querySelector('.receiver-postal').value,
                        ê¸°ë³¸ì£¼ì†Œ: section.querySelector('.receiver-address').value,
                        ìƒì„¸ì£¼ì†Œ: section.querySelector('.receiver-address-detail').value
                    },
                    ìƒí’ˆëª©ë¡: []
                };
                
                const rows = section.querySelectorAll('.product-row');
                rows.forEach(row => {
                    const unitPriceValue = row.querySelector('.unit-price').value;
                    const totalPriceValue = row.querySelector('.total-price').value;
                    
                    sectionData.ìƒí’ˆëª©ë¡.push({
                        ìƒí’ˆì½”ë“œ: row.querySelector('.product-code').value,
                        ìƒí’ˆì´ë¦„: row.querySelector('.product-name').value,
                        ìˆ˜ëŸ‰: row.querySelector('.quantity').value,
                        ë‹¨ê°€: parseFormattedNumber(unitPriceValue),
                        ê¸ˆì•¡: parseFormattedNumber(totalPriceValue)
                    });
                });
                
                data.ì£¼ë¬¸ëª©ë¡.push(sectionData);
            });
            
            return data;
        }

        // ========================================
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ê´€ë ¨ í•¨ìˆ˜
        // ========================================
        
        /**
         * config.js ì„¤ì • ìƒíƒœ í™•ì¸ ë° í‘œì‹œ
         */
        function checkConfigStatus() {
            const statusDiv = document.getElementById('configStatus');
            const statusText = document.getElementById('configStatusText');
            
            if (typeof GOOGLE_FORM_CONFIG === 'undefined') {
                statusDiv.style.backgroundColor = '#f8d7da';
                statusDiv.style.border = '2px solid #f5c6cb';
                statusText.textContent = 'âŒ config.js íŒŒì¼ì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.';
                statusText.style.color = '#721c24';
                return;
            }
            
            const hasUrl = GOOGLE_FORM_CONFIG.formUrl && GOOGLE_FORM_CONFIG.formUrl.trim() !== '';
            const hasAllEntries = GOOGLE_FORM_CONFIG.entries.dateTime && 
                                  GOOGLE_FORM_CONFIG.entries.name && 
                                  GOOGLE_FORM_CONFIG.entries.phone && 
                                  GOOGLE_FORM_CONFIG.entries.orderData;
            
            if (hasUrl && hasAllEntries) {
                statusDiv.style.backgroundColor = '#d4edda';
                statusDiv.style.border = '2px solid #c3e6cb';
                statusText.textContent = 'âœ… ëª¨ë“  ì„¤ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!';
                statusText.style.color = '#155724';
            } else if (hasUrl || hasAllEntries) {
                statusDiv.style.backgroundColor = '#fff3cd';
                statusDiv.style.border = '2px solid #ffeaa7';
                statusText.textContent = 'âš ï¸ ì¼ë¶€ ì„¤ì •ì´ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤. config.js íŒŒì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.';
                statusText.style.color = '#856404';
            } else {
                statusDiv.style.backgroundColor = '#f8d7da';
                statusDiv.style.border = '2px solid #f5c6cb';
                statusText.textContent = 'âŒ ì„¤ì •ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. config.js íŒŒì¼ì„ ì„¤ì •í•´ì£¼ì„¸ìš”.';
                statusText.style.color = '#721c24';
            }
        }

        /**
         * ëª¨ë“  ì„¤ì • ì €ì¥
         * (í˜¸í™˜ì„± ìœ ì§€ë¥¼ ìœ„í•´ ë¹ˆ í•¨ìˆ˜ë¡œ ë‚¨ê¹€ - ì‹¤ì œë¡œëŠ” config.jsì—ì„œ ê´€ë¦¬)
         */
        function saveAllSettings() {
            showAlert('ğŸ’¡ ì„¤ì •ì€ config.js íŒŒì¼ì—ì„œ ê´€ë¦¬ë©ë‹ˆë‹¤.', 'warning');
        }

        /**
         * ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ëª¨ë“  ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
         * (í˜¸í™˜ì„± ìœ ì§€ë¥¼ ìœ„í•´ ë¹ˆ í•¨ìˆ˜ë¡œ ë‚¨ê¹€ - ì‹¤ì œë¡œëŠ” config.jsì—ì„œ ê´€ë¦¬)
         */
        function loadAllSettings() {
            console.log('config.jsì—ì„œ ì„¤ì •ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.');
            // config.js ì„¤ì • ìƒíƒœ í™•ì¸
            checkConfigStatus();
        }

        // ========================================
        // ìˆœì°¨ì  ì…ë ¥ ê²€ì¦ í•¨ìˆ˜
        // ========================================
        
        /**
         * ì£¼ë¬¸ì ì •ë³´ ì™„ë£Œ ì—¬ë¶€ í™•ì¸
         * @returns {Object} - {complete: boolean, missingField: HTMLElement, fieldName: string}
         */
        function checkOrdererInfoComplete() {
            const ordererName = document.getElementById('ordererName');
            const ordererPhone = document.getElementById('ordererPhone');
            const ordererPostal = document.getElementById('ordererPostal');
            const ordererAddress = document.getElementById('ordererAddress');
            
            if (!ordererName.value.trim()) {
                return { complete: false, missingField: ordererName, fieldName: 'ì£¼ë¬¸ì ì„±ëª…' };
            }
            if (!ordererPhone.value.trim()) {
                return { complete: false, missingField: ordererPhone, fieldName: 'ì£¼ë¬¸ì ì „í™”ë²ˆí˜¸' };
            }
            if (!ordererPostal.value.trim()) {
                return { complete: false, missingField: ordererPostal, fieldName: 'ì£¼ë¬¸ì ìš°í¸ë²ˆí˜¸' };
            }
            if (!ordererAddress.value.trim()) {
                return { complete: false, missingField: ordererAddress, fieldName: 'ì£¼ë¬¸ì ì£¼ì†Œ' };
            }
            
            return { complete: true };
        }

        /**
         * ë³´ë‚´ëŠ” ë¶„ ì •ë³´ ì™„ë£Œ ì—¬ë¶€ í™•ì¸ (ì²« ë²ˆì§¸ ì„¹ì…˜)
         * @returns {Object} - {complete: boolean, missingField: HTMLElement, fieldName: string}
         */
        function checkSenderInfoComplete() {
            const firstSection = document.querySelector('.order-section[data-section="1"]');
            if (!firstSection) return { complete: true };
            
            const senderName = firstSection.querySelector('.sender-name');
            const senderPhone = firstSection.querySelector('.sender-phone');
            const senderPostal = firstSection.querySelector('.sender-postal');
            const senderAddress = firstSection.querySelector('.sender-address');
            
            if (!senderName.value.trim()) {
                return { complete: false, missingField: senderName, fieldName: 'ë³´ë‚´ëŠ” ë¶„ ì„±ëª…' };
            }
            if (!senderPhone.value.trim()) {
                return { complete: false, missingField: senderPhone, fieldName: 'ë³´ë‚´ëŠ” ë¶„ ì „í™”ë²ˆí˜¸' };
            }
            if (!senderPostal.value.trim()) {
                return { complete: false, missingField: senderPostal, fieldName: 'ë³´ë‚´ëŠ” ë¶„ ìš°í¸ë²ˆí˜¸' };
            }
            if (!senderAddress.value.trim()) {
                return { complete: false, missingField: senderAddress, fieldName: 'ë³´ë‚´ëŠ” ë¶„ ì£¼ì†Œ' };
            }
            
            return { complete: true };
        }

        /**
         * ë°›ëŠ” ë¶„ ì •ë³´ ì™„ë£Œ ì—¬ë¶€ í™•ì¸ (ì²« ë²ˆì§¸ ì„¹ì…˜)
         * @returns {Object} - {complete: boolean, missingField: HTMLElement, fieldName: string}
         */
        function checkReceiverInfoComplete() {
            const firstSection = document.querySelector('.order-section[data-section="1"]');
            if (!firstSection) return { complete: true };
            
            const receiverName = firstSection.querySelector('.receiver-name');
            const receiverPhone = firstSection.querySelector('.receiver-phone');
            const receiverPostal = firstSection.querySelector('.receiver-postal');
            const receiverAddress = firstSection.querySelector('.receiver-address');
            
            if (!receiverName.value.trim()) {
                return { complete: false, missingField: receiverName, fieldName: 'ë°›ëŠ” ë¶„ ì„±ëª…' };
            }
            if (!receiverPhone.value.trim()) {
                return { complete: false, missingField: receiverPhone, fieldName: 'ë°›ëŠ” ë¶„ ì „í™”ë²ˆí˜¸' };
            }
            if (!receiverPostal.value.trim()) {
                return { complete: false, missingField: receiverPostal, fieldName: 'ë°›ëŠ” ë¶„ ìš°í¸ë²ˆí˜¸' };
            }
            if (!receiverAddress.value.trim()) {
                return { complete: false, missingField: receiverAddress, fieldName: 'ë°›ëŠ” ë¶„ ì£¼ì†Œ' };
            }
            
            return { complete: true };
        }

        /**
         * ìƒí’ˆ ì •ë³´ ì™„ë£Œ ì—¬ë¶€ í™•ì¸ (ì²« ë²ˆì§¸ ì„¹ì…˜)
         * @returns {Object} - {complete: boolean, missingField: HTMLElement, fieldName: string}
         */
        function checkProductInfoComplete() {
            const firstSection = document.querySelector('.order-section[data-section="1"]');
            if (!firstSection) return { complete: true };
            
            const firstRow = firstSection.querySelector('.product-row');
            if (!firstRow) return { complete: true };
            
            const productCode = firstRow.querySelector('.product-code');
            const quantity = firstRow.querySelector('.quantity');
            const unitPrice = firstRow.querySelector('.unit-price');
            
            if (!productCode.value.trim()) {
                return { complete: false, missingField: productCode, fieldName: 'ìƒí’ˆ ì½”ë“œ' };
            }
            if (!quantity.value || parseInt(quantity.value) <= 0) {
                return { complete: false, missingField: quantity, fieldName: 'ìˆ˜ëŸ‰' };
            }
            if (!unitPrice.value || parseInt(unitPrice.value) <= 0) {
                return { complete: false, missingField: unitPrice, fieldName: 'ë‹¨ê°€' };
            }
            
            return { complete: true };
        }

        /**
         * ìˆœì°¨ì  ì…ë ¥ ê²€ì¦ - ì£¼ë¬¸ #1ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸
         * @returns {boolean} - ê²€ì¦ í†µê³¼ ì—¬ë¶€
         */
        function checkSequentialInput() {
            // 1. ì£¼ë¬¸ì ì •ë³´ í™•ì¸
            const ordererCheck = checkOrdererInfoComplete();
            if (!ordererCheck.complete) {
                ordererCheck.missingField.focus();
                ordererCheck.missingField.classList.add('error');
                showAlert(`âš ï¸ [ì£¼ë¬¸ì ì •ë³´] ${ordererCheck.fieldName}ì„(ë¥¼) ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                setTimeout(() => {
                    ordererCheck.missingField.classList.remove('error');
                }, 3000);
                return false;
            }
            
            // 2. ì£¼ë¬¸ #1 ë³´ë‚´ëŠ” ë¶„ ì •ë³´ í™•ì¸
            const senderCheck = checkSenderInfoComplete();
            if (!senderCheck.complete) {
                senderCheck.missingField.focus();
                senderCheck.missingField.classList.add('error');
                showAlert(`âš ï¸ [ì£¼ë¬¸ #1 - ë³´ë‚´ëŠ” ë¶„] ${senderCheck.fieldName}ì„(ë¥¼) ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                
                // í•´ë‹¹ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
                const firstSection = document.querySelector('.order-section[data-section="1"]');
                firstSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                
                setTimeout(() => {
                    senderCheck.missingField.classList.remove('error');
                }, 3000);
                return false;
            }
            
            // 3. ì£¼ë¬¸ #1 ë°›ëŠ” ë¶„ ì •ë³´ í™•ì¸
            const receiverCheck = checkReceiverInfoComplete();
            if (!receiverCheck.complete) {
                receiverCheck.missingField.focus();
                receiverCheck.missingField.classList.add('error');
                showAlert(`âš ï¸ [ì£¼ë¬¸ #1 - ë°›ëŠ” ë¶„] ${receiverCheck.fieldName}ì„(ë¥¼) ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                
                // í•´ë‹¹ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
                const firstSection = document.querySelector('.order-section[data-section="1"]');
                firstSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                setTimeout(() => {
                    receiverCheck.missingField.classList.remove('error');
                }, 3000);
                return false;
            }
            
            // 4. ì£¼ë¬¸ #1 ìƒí’ˆ ì •ë³´ í™•ì¸
            const productCheck = checkProductInfoComplete();
            if (!productCheck.complete) {
                productCheck.missingField.focus();
                productCheck.missingField.classList.add('error');
                showAlert(`âš ï¸ [ì£¼ë¬¸ #1 - ìƒí’ˆ ì •ë³´] ${productCheck.fieldName}ì„(ë¥¼) ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                
                // í•´ë‹¹ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
                const firstSection = document.querySelector('.order-section[data-section="1"]');
                firstSection.scrollIntoView({ behavior: 'smooth', block: 'end' });
                
                setTimeout(() => {
                    productCheck.missingField.classList.remove('error');
                }, 3000);
                return false;
            }
            
            return true;
        }
        
        /**
         * í•„ë“œì— ìˆœì°¨ì  ì…ë ¥ ê°€ì´ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
         */
        function attachSequentialInputGuide() {
            const firstSection = document.querySelector('.order-section[data-section="1"]');
            if (!firstSection) return;
            
            // ë³´ë‚´ëŠ” ë¶„ í•„ë“œë“¤ì— í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸ ì¶”ê°€
            const senderFields = [
                firstSection.querySelector('.sender-name'),
                firstSection.querySelector('.sender-phone'),
                firstSection.querySelector('.sender-postal'),
                firstSection.querySelector('.sender-address')
            ];
            
            senderFields.forEach(field => {
                if (field) {
                    field.addEventListener('focus', function() {
                        const ordererCheck = checkOrdererInfoComplete();
                        if (!ordererCheck.complete) {
                            setTimeout(() => {
                                ordererCheck.missingField.focus();
                                ordererCheck.missingField.classList.add('error');
                                showAlert(`âš ï¸ [ì£¼ë¬¸ì ì •ë³´] ${ordererCheck.fieldName}ì„(ë¥¼) ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                                setTimeout(() => {
                                    ordererCheck.missingField.classList.remove('error');
                                }, 3000);
                            }, 100);
                        }
                    });
                }
            });
            
            // ë°›ëŠ” ë¶„ í•„ë“œë“¤ì— í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸ ì¶”ê°€
            const receiverFields = [
                firstSection.querySelector('.receiver-name'),
                firstSection.querySelector('.receiver-phone'),
                firstSection.querySelector('.receiver-postal'),
                firstSection.querySelector('.receiver-address')
            ];
            
            receiverFields.forEach(field => {
                if (field) {
                    field.addEventListener('focus', function() {
                        const ordererCheck = checkOrdererInfoComplete();
                        if (!ordererCheck.complete) {
                            setTimeout(() => {
                                ordererCheck.missingField.focus();
                                ordererCheck.missingField.classList.add('error');
                                showAlert(`âš ï¸ [ì£¼ë¬¸ì ì •ë³´] ${ordererCheck.fieldName}ì„(ë¥¼) ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                                setTimeout(() => {
                                    ordererCheck.missingField.classList.remove('error');
                                }, 3000);
                            }, 100);
                            return;
                        }
                        
                        const senderCheck = checkSenderInfoComplete();
                        if (!senderCheck.complete) {
                            setTimeout(() => {
                                senderCheck.missingField.focus();
                                senderCheck.missingField.classList.add('error');
                                showAlert(`âš ï¸ [ë³´ë‚´ëŠ” ë¶„] ${senderCheck.fieldName}ì„(ë¥¼) ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                                setTimeout(() => {
                                    senderCheck.missingField.classList.remove('error');
                                }, 3000);
                            }, 100);
                        }
                    });
                }
            });
            
            // ìƒí’ˆ ì •ë³´ í•„ë“œë“¤ì— í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸ ì¶”ê°€
            const firstRow = firstSection.querySelector('.product-row');
            if (firstRow) {
                const productFields = [
                    firstRow.querySelector('.product-code'),
                    firstRow.querySelector('.quantity'),
                    firstRow.querySelector('.unit-price')
                ];
                
                productFields.forEach(field => {
                    if (field) {
                        field.addEventListener('focus', function() {
                            const ordererCheck = checkOrdererInfoComplete();
                            if (!ordererCheck.complete) {
                                setTimeout(() => {
                                    ordererCheck.missingField.focus();
                                    ordererCheck.missingField.classList.add('error');
                                    showAlert(`âš ï¸ [ì£¼ë¬¸ì ì •ë³´] ${ordererCheck.fieldName}ì„(ë¥¼) ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                                    setTimeout(() => {
                                        ordererCheck.missingField.classList.remove('error');
                                    }, 3000);
                                }, 100);
                                return;
                            }
                            
                            const senderCheck = checkSenderInfoComplete();
                            if (!senderCheck.complete) {
                                setTimeout(() => {
                                    senderCheck.missingField.focus();
                                    senderCheck.missingField.classList.add('error');
                                    showAlert(`âš ï¸ [ë³´ë‚´ëŠ” ë¶„] ${senderCheck.fieldName}ì„(ë¥¼) ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                                    setTimeout(() => {
                                        senderCheck.missingField.classList.remove('error');
                                    }, 3000);
                                }, 100);
                                return;
                            }
                            
                            const receiverCheck = checkReceiverInfoComplete();
                            if (!receiverCheck.complete) {
                                setTimeout(() => {
                                    receiverCheck.missingField.focus();
                                    receiverCheck.missingField.classList.add('error');
                                    showAlert(`âš ï¸ [ë°›ëŠ” ë¶„] ${receiverCheck.fieldName}ì„(ë¥¼) ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.`, 'warning');
                                    setTimeout(() => {
                                        receiverCheck.missingField.classList.remove('error');
                                    }, 3000);
                                }, 100);
                            }
                        });
                    }
                });
            }
        }

        // ========================================
        // ì´ˆê¸°í™” í•¨ìˆ˜
        // ========================================
        
        /**
         * í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™” ì‘ì—… ìˆ˜í–‰
         */
        function initializePage() {
            // products.js íŒŒì¼ ë¡œë“œ ìƒíƒœ í™•ì¸
            checkProductsDataLoaded();
            
            // í˜„ì¬ ë‚ ì§œ/ì‹œê°„ í‘œì‹œ
            updateDateTime();
            // ë§¤ ë¶„ë§ˆë‹¤ ë‚ ì§œ/ì‹œê°„ ì—…ë°ì´íŠ¸
            setInterval(updateDateTime, 60000);
            
            // ì²« ë²ˆì§¸ ì„¹ì…˜ì˜ ì²« ë²ˆì§¸ í–‰ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            const firstRow = document.querySelector('.product-row');
            if (firstRow) {
                attachRowEventListeners(firstRow);
                attachProductCodeFormatting(firstRow);
            }
            
            // ìˆœì°¨ì  ì…ë ¥ ê°€ì´ë“œ ì´ë²¤íŠ¸ ì¶”ê°€
            attachSequentialInputGuide();
            
            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ëª¨ë“  ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
            loadAllSettings();
        }

        // ========================================
        // í˜ì´ì§€ ë¡œë“œ ì´ë²¤íŠ¸
        // ========================================
        
        // DOMì´ ì™„ì „íˆ ë¡œë“œëœ í›„ ì´ˆê¸°í™” í•¨ìˆ˜ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>